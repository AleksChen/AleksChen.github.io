import{c as s,F as m}from"./hoisted.BHPx5pe9.js";function g(r,i=3e3){let l;return function(...n){l&&clearTimeout(l),l=setTimeout(()=>r(...n),i)}}function f(r,i,l={leading:!0,trailing:!0}){let n=0,a=null,d=null;const{leading:u=!0,trailing:e=!0}=l;return function(...c){const o=Date.now();!n&&!u&&(n=o);const t=i-(o-n);t<=0?(a&&(clearTimeout(a),a=null),n=o,r(...c)):e&&(a&&clearTimeout(a),a=setTimeout(()=>{n=u?Date.now():0,a=null,e&&d&&(r(...d),d=null)},t)),d=c}}async function h(r){return await new Promise(i=>{setTimeout(()=>{i()},r)})}const x=r=>{const i=document.querySelector(r);if(!i)return;let l=[];const n=f(()=>{let e=l.length-1;for(e;e>=0&&!(l[e].getBoundingClientRect().top<=80);e-=1);const c=l[e];Array.from(i.querySelector(".outlines")?.children??[]).forEach(o=>{o.getAttribute("data-anchor-id")===c?.id?o.classList.add("!opacity-100"):o.classList.remove("!opacity-100")})},200);document.addEventListener("scroll",n,{passive:!0});const d=(()=>{const e=()=>{const t=o.querySelector(".outlines");t&&(t?.style.display==="none"?t.style.removeProperty("display"):t.style.display="none")},c=s("div",{class:"outlines flex flex-col text-sm gap-1 py-2 pl-1 max-h-[60vh] overflow-y-auto <md:hidden break-words"}),o=s("div",{class:"fixed top-[84px] right-[4px] bg-modal p-2 rounded shadow-lg md:shadow-none md:sticky md:top-[88px] <md:[&:focus-within_.outlines]:flex flex flex-col <md:w-auto w-[240px]"},s("div",{class:"flex <md:justify-end",tabIndex:-1},s("button",{onClick:e,title:"toggle outline",class:"<md:hidden"},s("div",{class:"i-ri:menu-fold-4-fill text-2xl"})),s("button",{title:"toggle outline",class:"md:hidden"},s("div",{class:"i-ri:menu-fold-4-fill text-2xl"}))),c);return i.replaceChildren(o),c})(),u=()=>{const e=document.querySelector(".ud-root");if(!e)return;const o=["h1","h2","h3","h4","h5","h6"].map(t=>`${t}`).join(", ");l=Array.from(e?.querySelectorAll(o)??[]),d?.replaceChildren(s(m,null,l.map(t=>s("a",{tabIndex:-1,href:`#${t.id}`,"data-anchor-id":t.id,"data-anchor-tag":t.tagName,class:"opacity-50 hover:opacity-80 min-w-[180px] text-lg"},t.textContent))))};return u(),n(),u};export{g as d,x as m,h as s,f as t};
