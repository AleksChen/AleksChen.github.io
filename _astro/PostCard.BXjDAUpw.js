import{r as c}from"./index.WFquGv8Z.js";var d={exports:{}},i={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u;function f(){if(u)return i;u=1;var s=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function o(n,r,t){var a=null;if(t!==void 0&&(a=""+t),r.key!==void 0&&(a=""+r.key),"key"in r){t={};for(var l in r)l!=="key"&&(t[l]=r[l])}else t=r;return r=t.ref,{$$typeof:s,type:n,key:a,ref:r!==void 0?r:null,props:t}}return i.Fragment=x,i.jsx=o,i.jsxs=o,i}var m;function v(){return m||(m=1,d.exports=f()),d.exports}var e=v();const j=({item:s,index:x,formattedDate:o})=>{const[n,r]=c.useState(!1),t=c.useRef(null);return c.useEffect(()=>{if(n)return;const a=new IntersectionObserver(l=>{l.forEach(p=>{p.isIntersecting&&(r(!0),a.disconnect())})},{rootMargin:"200px",threshold:.1});return t.current&&a.observe(t.current),()=>a.disconnect()},[n]),e.jsx("article",{ref:t,className:`group relative card transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{animationDelay:`${x*100}ms`,minHeight:"200px"},children:n?e.jsx("a",{href:`/post/${s.slug}`,className:"block",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-3 text-xs text-text-muted mb-2",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"i-ri:calendar-line"}),o]})}),e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-text mb-3 group-hover:underline decoration-2 underline-offset-4 transition-colors line-clamp-2 hover:text-[var(--color-primary)]",children:s.title}),e.jsx("p",{className:"text-text-muted text-sm md:text-base line-clamp-3 mb-4 leading-relaxed",children:s.intro||"暂无简介"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-auto",children:s.tags.map(a=>e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-sm text-xs font-bold border border-text text-text bg-transparent shadow-[2px_2px_0_0_var(--color-text)]",children:["#",a]},a))})]}),s.cover&&e.jsx("div",{className:"flex-shrink-0 w-full md:w-32 h-32 md:h-24 rounded-sm overflow-hidden border-2 border-text shadow-[4px_4px_0_0_var(--color-text)]",children:e.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",src:s.cover.src,alt:s.cover.alt||s.title,loading:"lazy"})})]})}):e.jsx("div",{className:"h-48 md:h-32 w-full bg-transparent"})})};export{j as PostCard};
