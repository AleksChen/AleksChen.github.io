import{b as it,g as at,d as Ct,c as mt,l as Tt,e as kt}from"./auth.o6PrGJ86.js";const ot=Object.keys;function Ot(t){return typeof t=="boolean"}function Lt(t){return t&&typeof t.nodeType=="number"}function ct(t){return typeof t=="string"}function bt(t){return typeof t=="number"}function R(t){return typeof t=="object"?t!==null:Z(t)}function Z(t){return typeof t=="function"}function At(t){return!!(t&&t.isComponent)}function Et(t){return R(t)&&typeof t.length=="number"&&typeof t.nodeType!="number"}function ft(t,e){if(t)for(const r of ot(t))e(t[r],r)}function Yt(){return Object.seal({current:null})}function _t(t){return R(t)&&"current"in t}const dt={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0};function It(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}const jt=["Webkit","ms","Moz","O"];ot(dt).forEach(t=>{jt.forEach(e=>{dt[It(e,t)]=0})});const Nt=Symbol.for("jsx-dom:type");var yt=function(t){return t.ShadowRoot="ShadowRoot",t}(yt||{});function Rt(t){return t!=null&&t[Nt]===yt.ShadowRoot}const Ht="http://www.w3.org/2000/svg",Ft="http://www.w3.org/1999/xlink",Ut="http://www.w3.org/XML/1998/namespace";function xt(t){return!Ot(t)&&t!=null}function st(t){return Array.isArray(t)?t.map(st).filter(Boolean).join(" "):R(t)?Symbol.iterator in t?st(Array.from(t)):ot(t).filter(e=>t[e]).join(" "):xt(t)?""+t:""}const Wt={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0},Pt=/^(a(ll|t|u)|base[FP]|c(al|lipPathU|on)|di|ed|ex|filter[RU]|g(lyphR|r)|ke|l(en|im)|ma(rker[HUW]|s)|n|pat|pr|point[^e]|re[^n]|s[puy]|st[^or]|ta|textL|vi|xC|y|z)/;function Bt(t){const e=document.createDocumentFragment();return ut(t.children,e),e}function Gt(t,e,r){e={...e,children:r};const n=new t(e),c=n.render();return"ref"in e&&pt(e.ref,n),c}function zt(t,e){let{children:r,...n}=e;!n.namespaceURI&&Wt[t]===0&&(n={...n,namespaceURI:Ht});let c;if(ct(t)){if(c=n.namespaceURI?document.createElementNS(n.namespaceURI,t):document.createElement(t),Jt(n,c),ut(r,c),c instanceof window.HTMLSelectElement&&n.value!=null)if(n.multiple===!0&&Array.isArray(n.value)){const f=n.value.map(m=>String(m));c.querySelectorAll("option").forEach(m=>m.selected=f.includes(m.value))}else c.value=n.value;pt(n.ref,c)}else if(Z(t))R(t.defaultProps)&&(n={...t.defaultProps,...n}),c=At(t)?Gt(t,n,r):t({...n,children:r});else throw new TypeError(`Invalid JSX element type: ${t}`);return c}function u(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),c=2;c<r;c++)n[c-2]=arguments[c];return(ct(e)||Array.isArray(e))&&(n.unshift(e),e={}),e=e||{},e.children!=null&&!n.length&&({children:n,...e}=e),zt(t,{...e,children:n},e.key)}function pt(t,e){_t(t)?t.current=e:Z(t)&&t(e)}function ut(t,e){if(Et(t))Vt(t,e);else if(ct(t)||bt(t))lt(document.createTextNode(t),e);else if(t===null)lt(document.createComment(""),e);else if(Lt(t))lt(t,e);else if(Rt(t)){const r=e.attachShadow(t.attr);ut(t.children,r),pt(t.ref,r)}}function Vt(t,e){for(const r of[...t])ut(r,e);return e}function lt(t,e){e instanceof window.HTMLTemplateElement?e.content.appendChild(t):e.appendChild(t)}function nt(t,e){return t.replace(/[A-Z]/g,r=>e+r.toLowerCase())}function wt(t,e){e==null||e===!1||(Array.isArray(e)?e.forEach(r=>wt(t,r)):ct(e)?t.setAttribute("style",e):R(e)&&ft(e,(r,n)=>{n.indexOf("-")===0?t.style.setProperty(n,r):bt(r)&&dt[n]!==0?t.style[n]=r+"px":t.style[n]=r}))}function qt(t,e,r){switch(t){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":gt(r,Ft,nt(t,":"),e);return;case"xmlnsXlink":W(r,nt(t,":"),e);return;case"xmlBase":case"xmlLang":case"xmlSpace":gt(r,Ut,nt(t,":"),e);return}switch(t){case"htmlFor":W(r,"for",e);return;case"dataset":ft(e,(n,c)=>{n!=null&&(r.dataset[c]=n)});return;case"innerHTML":case"innerText":case"textContent":xt(e)&&(r[t]=e);return;case"dangerouslySetInnerHTML":R(e)&&(r.innerHTML=e.__html);return;case"value":if(e==null||r instanceof window.HTMLSelectElement)return;if(r instanceof window.HTMLTextAreaElement){r.value=e;return}break;case"spellCheck":r.spellcheck=e;return;case"class":case"className":Z(e)?e(r):W(r,"class",st(e));return;case"ref":case"namespaceURI":return;case"style":wt(r,e);return;case"on":case"onCapture":ft(e,(n,c)=>{r.addEventListener(c,n,t==="onCapture")});return}if(Z(e)){if(t[0]==="o"&&t[1]==="n"){let n=t.toLowerCase();const c=n.endsWith("capture");if(n==="ondoubleclick"?n="ondblclick":c&&n==="ondoubleclickcapture"&&(n="ondblclickcapture"),!c&&r[n]===null)r[n]=e;else if(c)r.addEventListener(n.substring(2,n.length-7),e,!0);else{let f;n in window?f=n.substring(2):f=n[2]+t.slice(3),r.addEventListener(f,e)}}}else R(e)?r[t]=e:e===!0?W(r,t,""):e!==!1&&e!=null&&(r instanceof SVGElement&&!Pt.test(t)?W(r,nt(t,"-"),e):W(r,t,e))}function W(t,e,r){t.setAttribute(e,r)}function gt(t,e,r,n){t.setAttributeNS(e,r,n)}function Jt(t,e){for(const r of ot(t))qt(r,t[r],e);return e}const Xt=(t,e=!1)=>{const r=[],n=f=>{e===!1?r[0]=f:r.includes(f)||r.push(f),c(t)},c=f=>{r.forEach(m=>{const D=typeof f=="function"?f(m):f;Object.entries({...t,...D}).forEach(([$,h])=>{if(h===!1){m.removeAttribute($);return}m?.setAttribute($,h)})})};return[n,c]},Zt=t=>{let e;return()=>e||(e=t(),e)},J=(...t)=>st(t.filter(e=>e!==!1||e!==void 0));let rt;const Kt=async()=>rt||(rt=await(await fetch(`${location.origin}/api/post/list`)).json(),rt),$t=t=>{const e=Zt(()=>u("div",{class:"fixed z-[100] top-0 left-0 w-full h-full flex items-center justify-center"},u("div",{class:"absolute top-0 left-0 w-full h-full bg-black bg-opacity-60",onClick:n}),u("div",{class:"min-w-[200px] min-h-[100px] z-[2] rounded bg-bg flex flex-col m-2"},t()))),r=()=>{const c=e();document.body.appendChild(c)},n=()=>{const c=e();c.parentElement?.removeChild(c)};return{show:r,hide:n}};var Mt={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){var r=1e3,n=6e4,c=36e5,f="millisecond",m="second",D="minute",$="hour",h="day",v="week",M="month",H="quarter",L="year",A="date",Y="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(l){var a=["th","st","nd","rd"],s=l%100;return"["+l+(a[(s-20)%10]||a[s]||a[0])+"]"}},z=function(l,a,s){var o=String(l);return!o||o.length>=a?l:""+Array(a+1-o.length).join(s)+l},_={s:z,z:function(l){var a=-l.utcOffset(),s=Math.abs(a),o=Math.floor(s/60),i=s%60;return(a<=0?"+":"-")+z(o,2,"0")+":"+z(i,2,"0")},m:function l(a,s){if(a.date()<s.date())return-l(s,a);var o=12*(s.year()-a.year())+(s.month()-a.month()),i=a.clone().add(o,M),d=s-i<0,p=a.clone().add(o+(d?-1:1),M);return+(-(o+(s-i)/(d?i-p:p-i))||0)},a:function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},p:function(l){return{M,y:L,w:v,d:h,D:A,h:$,m:D,s:m,ms:f,Q:H}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(l){return l===void 0}},C="en",T={};T[C]=G;var F="$isDayjsObject",I=function(l){return l instanceof tt||!(!l||!l[F])},Q=function l(a,s,o){var i;if(!a)return C;if(typeof a=="string"){var d=a.toLowerCase();T[d]&&(i=d),s&&(T[d]=s,i=d);var p=a.split("-");if(!i&&p.length>1)return l(p[0])}else{var b=a.name;T[b]=a,i=b}return!o&&i&&(C=i),i||!o&&C},x=function(l,a){if(I(l))return l.clone();var s=typeof a=="object"?a:{};return s.date=l,s.args=arguments,new tt(s)},g=_;g.l=Q,g.i=I,g.w=function(l,a){return x(l,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var tt=function(){function l(s){this.$L=Q(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[F]=!0}var a=l.prototype;return a.parse=function(s){this.$d=function(o){var i=o.date,d=o.utc;if(i===null)return new Date(NaN);if(g.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var p=i.match(P);if(p){var b=p[2]-1||0,y=(p[7]||"0").substring(0,3);return d?new Date(Date.UTC(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,y)):new Date(p[1],b,p[3]||1,p[4]||0,p[5]||0,p[6]||0,y)}}return new Date(i)}(s),this.init()},a.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},a.$utils=function(){return g},a.isValid=function(){return this.$d.toString()!==Y},a.isSame=function(s,o){var i=x(s);return this.startOf(o)<=i&&i<=this.endOf(o)},a.isAfter=function(s,o){return x(s)<this.startOf(o)},a.isBefore=function(s,o){return this.endOf(o)<x(s)},a.$g=function(s,o,i){return g.u(s)?this[o]:this.set(i,s)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(s,o){var i=this,d=!!g.u(o)||o,p=g.p(s),b=function(N,k){var E=g.w(i.$u?Date.UTC(i.$y,k,N):new Date(i.$y,k,N),i);return d?E:E.endOf(h)},y=function(N,k){return g.w(i.toDate()[N].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(k)),i)},w=this.$W,S=this.$M,O=this.$D,U="set"+(this.$u?"UTC":"");switch(p){case L:return d?b(1,0):b(31,11);case M:return d?b(1,S):b(0,S+1);case v:var j=this.$locale().weekStart||0,V=(w<j?w+7:w)-j;return b(d?O-V:O+(6-V),S);case h:case A:return y(U+"Hours",0);case $:return y(U+"Minutes",1);case D:return y(U+"Seconds",2);case m:return y(U+"Milliseconds",3);default:return this.clone()}},a.endOf=function(s){return this.startOf(s,!1)},a.$set=function(s,o){var i,d=g.p(s),p="set"+(this.$u?"UTC":""),b=(i={},i[h]=p+"Date",i[A]=p+"Date",i[M]=p+"Month",i[L]=p+"FullYear",i[$]=p+"Hours",i[D]=p+"Minutes",i[m]=p+"Seconds",i[f]=p+"Milliseconds",i)[d],y=d===h?this.$D+(o-this.$W):o;if(d===M||d===L){var w=this.clone().set(A,1);w.$d[b](y),w.init(),this.$d=w.set(A,Math.min(this.$D,w.daysInMonth())).$d}else b&&this.$d[b](y);return this.init(),this},a.set=function(s,o){return this.clone().$set(s,o)},a.get=function(s){return this[g.p(s)]()},a.add=function(s,o){var i,d=this;s=Number(s);var p=g.p(o),b=function(S){var O=x(d);return g.w(O.date(O.date()+Math.round(S*s)),d)};if(p===M)return this.set(M,this.$M+s);if(p===L)return this.set(L,this.$y+s);if(p===h)return b(1);if(p===v)return b(7);var y=(i={},i[D]=n,i[$]=c,i[m]=r,i)[p]||1,w=this.$d.getTime()+s*y;return g.w(w,this)},a.subtract=function(s,o){return this.add(-1*s,o)},a.format=function(s){var o=this,i=this.$locale();if(!this.isValid())return i.invalidDate||Y;var d=s||"YYYY-MM-DDTHH:mm:ssZ",p=g.z(this),b=this.$H,y=this.$m,w=this.$M,S=i.weekdays,O=i.months,U=i.meridiem,j=function(k,E,q,et){return k&&(k[E]||k(o,d))||q[E].slice(0,et)},V=function(k){return g.s(b%12||12,k,"0")},N=U||function(k,E,q){var et=k<12?"AM":"PM";return q?et.toLowerCase():et};return d.replace(B,function(k,E){return E||function(q){switch(q){case"YY":return String(o.$y).slice(-2);case"YYYY":return g.s(o.$y,4,"0");case"M":return w+1;case"MM":return g.s(w+1,2,"0");case"MMM":return j(i.monthsShort,w,O,3);case"MMMM":return j(O,w);case"D":return o.$D;case"DD":return g.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return j(i.weekdaysMin,o.$W,S,2);case"ddd":return j(i.weekdaysShort,o.$W,S,3);case"dddd":return S[o.$W];case"H":return String(b);case"HH":return g.s(b,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return N(b,y,!0);case"A":return N(b,y,!1);case"m":return String(y);case"mm":return g.s(y,2,"0");case"s":return String(o.$s);case"ss":return g.s(o.$s,2,"0");case"SSS":return g.s(o.$ms,3,"0");case"Z":return p}return null}(k)||p.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(s,o,i){var d,p=this,b=g.p(o),y=x(s),w=(y.utcOffset()-this.utcOffset())*n,S=this-y,O=function(){return g.m(p,y)};switch(b){case L:d=O()/12;break;case M:d=O();break;case H:d=O()/3;break;case v:d=(S-w)/6048e5;break;case h:d=(S-w)/864e5;break;case $:d=S/c;break;case D:d=S/n;break;case m:d=S/r;break;default:d=S}return i?d:g.a(d)},a.daysInMonth=function(){return this.endOf(M).$D},a.$locale=function(){return T[this.$L]},a.locale=function(s,o){if(!s)return this.$L;var i=this.clone(),d=Q(s,o,!0);return d&&(i.$L=d),i},a.clone=function(){return g.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},l}(),ht=tt.prototype;return x.prototype=ht,[["$ms",f],["$s",m],["$m",D],["$H",$],["$W",h],["$M",M],["$y",L],["$D",A]].forEach(function(l){ht[l[1]]=function(a){return this.$g(a,l[0],l[1])}}),x.extend=function(l,a){return l.$i||(l(a,tt,x),l.$i=!0),x},x.locale=Q,x.isDayjs=I,x.unix=function(l){return x(1e3*l)},x.en=T[C],x.Ls=T,x.p={},x})})(Mt);var Qt=Mt.exports;const K=at(Qt);var vt={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){return function(r,n,c){r=r||{};var f=n.prototype,m={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function D(h,v,M,H){return f.fromToBase(h,v,M,H)}c.en.relativeTime=m,f.fromToBase=function(h,v,M,H,L){for(var A,Y,P,B=M.$locale().relativeTime||m,G=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],z=G.length,_=0;_<z;_+=1){var C=G[_];C.d&&(A=H?c(h).diff(M,C.d,!0):M.diff(h,C.d,!0));var T=(r.rounding||Math.round)(Math.abs(A));if(P=A>0,T<=C.r||!C.r){T<=1&&_>0&&(C=G[_-1]);var F=B[C.l];L&&(T=L(""+T)),Y=typeof F=="string"?F.replace("%d",T):F(T,v,C.l,P);break}}if(v)return Y;var I=P?B.future:B.past;return typeof I=="function"?I(Y):I.replace("%s",Y)},f.to=function(h,v){return D(h,v,this,!0)},f.from=function(h,v){return D(h,v,this)};var $=function(h){return h.$u?c.utc():c()};f.toNow=function(h){return this.to($(this),h)},f.fromNow=function(h){return this.from($(this),h)}}})})(vt);var te=vt.exports;const ee=at(te);var St={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){return function(r,n,c){n.prototype.isToday=function(){var f="YYYY-MM-DD",m=c();return this.format(f)===m.format(f)}}})})(St);var ne=St.exports;const re=at(ne);var Dt={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(it,function(){return function(r,n,c){n.prototype.isYesterday=function(){var f="YYYY-MM-DD",m=c().subtract(1,"day");return this.format(f)===m.format(f)}}})})(Dt);var se=Dt.exports;const ie=at(se);K.extend(ee);K.extend(re);K.extend(ie);function ae(t){const e=K(t),r=K();if(e.isToday())return"Today";if(e.isYesterday())return"Yesterday";const n=r.diff(e,"day");return n<7?`${n} Days ago`:(r.year()===e.year(),e.format("YYYY/MM/DD"))}const oe="_tabset_selm3_1",X={tabset:oe,"tab-panel":"_tab-panel_selm3_1","tab-panels":"_tab-panels_selm3_4","tab-labels":"_tab-labels_selm3_13"},ce=()=>{const e=$t(()=>{const[c,f]=Xt({disabled:!0,"data-loading":!1}),m=Yt(),D=()=>{f({disabled:!m.current?.value.length})},$=async()=>{const v=m.current?.value;if(v){f({"data-loading":!0});try{await Tt(v),location.reload()}finally{f({"data-loading":!1})}}},h=!!mt.github.logInUrl;return u("div",{class:J("flex flex-col p-4",X.tabset)},u("input",{type:"radio",name:"tabset",id:"tab1","data-tab-name":"direct",checked:!h}),u("input",{type:"radio",name:"tabset",id:"tab2","data-tab-name":"app",checked:h}),u("div",{class:J("flex gap-4 justify-center pb-4",X["tab-labels"],!h&&"hidden!")},u("label",{"data-tab-name":"direct",htmlFor:"tab1",class:"cursor-pointer"},"Direct"),u("label",{"data-tab-name":"app",htmlFor:"tab2",class:"cursor-pointer"},"App")),u("div",{class:J(X["tab-panels"])},u("div",{class:J("panel-direct",X["tab-panel"]),"data-tab-name":"direct"},u("div",{class:"flex flex-col gap-4"},u("div",null,"Enter your github token:"),u("p",{class:"text-red text-sm font-bold"},"Don't enter your Github token if you are not owner of this site !!!"),u("a",{href:"https://github.com/settings/personal-access-tokens/new",target:"_blank",class:"text-xs underline text-blue"},"learn here"),u("input",{ref:m,type:"text",placeholder:"paste your token here",class:"rounded border dark:border-gray px-2 py-1 text-sm bg-transparent",onInput:D,onChange:$}),u("button",{class:"buttoned bg-blue",ref:c,onClick:$},"confirm"))),u("div",{class:J("panel-app w-full h-full",X["tab-panel"]),"data-tab-name":"app"},u("div",{class:"w-full h-full flex justify-center p-2"},u("a",{href:mt.github.logInUrl,class:"buttoned bg-[#202328] text-white text-sm"},u("div",{class:"i-ri:github-fill"})," Login with Github")))))}),r=()=>{e.show()};return u("button",{class:"text-sm",onClick:r,title:"login"},u("div",{class:"i-ri:triangle-line"}))},ue=t=>{const e=()=>{kt(),location.reload()},n=$t(()=>u("div",{class:"w-full flex-1 flex flex-col gap-2 p-4 justify-between"},u("div",null,u("div",{class:"text-lg"},"Are you sure to log out?"),u("div",{class:"text-gray text-sm"},"Token will be clear, make sure you saved it elsewhere")),u("button",{class:"buttoned bg-red",onClick:e},"log out"))),c=()=>{n.show()},f=!!t.permissions?.push,m=location.pathname==="/",D=m||/^\/\d+$/.test(location.pathname),$=location.pathname.startsWith("/post"),h=location.pathname.replace("/post/","");return f&&m&&de(),u("div",{class:"flex gap-2"},f&&D&&u("a",{href:"/edit?new",class:"text-button","aria-label":"create new post"},u("div",{class:"i-ri:add-large-line"})),f&&$&&u("a",{href:`/edit?path=${h}`,class:"text-button","aria-label":"edit current post"},u("div",{class:"i-ri:quill-pen-fill"})),u("div",{class:"w-6 h-6 rounded-full cursor-pointer",onClick:c},u("img",{src:t.avatar,alt:"",class:"rounded-full"})))},le=()=>(()=>{const e=Ct();return e?ue(e):ce()})(),fe=t=>{const e=document.querySelector(t);e&&e.appendChild(le())},de=async()=>{const e=(await Kt()).filter(n=>n.draft),r=document.querySelector(".content");e.forEach(n=>{const c=u(Bt,null,u("div",{"data-page-draft":"verified",class:"pt-8 pb-2"},u("a",{href:`/post/${n.id}`,class:"px-4 pb-4 flex justify-between items-center group"},u("div",{class:"flex flex-col"},u("h1",{class:"page-title w-[fit-content] text-lg transition-all font-semibold group-hover:underline"},n.title),u("p",{class:"text-text text-opacity-60 text-sm"},n.intro)),n.cover&&u("img",{class:"w-16 h-16 rounded object-cover",src:n.cover.src,alt:n.cover.alt})),u("div",{class:"flex pt-2 gap-2 px-4"},n.tags.map(f=>u("a",{href:`/tag/${encodeURIComponent(f)}`,class:"text-sm text-gray hover:text-black"},"#",f))),u("div",{"data-acc-time":n.createTime,class:"text-end text-xs text-gray"},ae(n.createTime))),u("hr",null));r?.insertBefore(c,r.firstChild)})};fe("#auth");export{Bt as F,Yt as a,J as b,u as c,ae as f,Kt as g,Xt as u};
