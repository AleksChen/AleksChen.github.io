const ye="modulepreload",Se=function(e){return"/"+e},Q={},Z=function(k,d,U){let b=Promise.resolve();if(d&&d.length>0){let f=function(r){return Promise.all(r.map(i=>Promise.resolve(i).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),w=a?.nonce||a?.getAttribute("nonce");b=f(d.map(r=>{if(r=Se(r),r in Q)return;Q[r]=!0;const i=r.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${u}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":ye,i||(l.as="script"),l.crossOrigin="",l.href=r,w&&l.setAttribute("nonce",w),document.head.appendChild(l),i)return new Promise((j,W)=>{l.addEventListener("load",j),l.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${r}`)))})}))}function v(f){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=f,window.dispatchEvent(a),!a.defaultPrevented)throw f}return b.then(f=>{for(const a of f||[])a.status==="rejected"&&v(a.reason);return k().catch(v)})};async function ee(){const e=await Z(()=>import("https://esm.sh/three@0.169.0"),[]),{gsap:k}=await Z(async()=>{const{gsap:n}=await import("https://esm.sh/gsap@3.12.5");return{gsap:n}},[]),d={red1:16731469,red2:16724787,red3:16718362,grey:15790320,darkGrey:3355443,windowBlue:6730751,windowDarkBlue:26316,thrusterOrange:16763904};class U{mesh;roof;body;window;base;constructor(){this.mesh=new e.Object3D;const s=new e.Shape,o=0,t=0;s.moveTo(o,t),s.lineTo(o,t+50),s.lineTo(o+35,t+10),s.lineTo(o+35,t-10),s.lineTo(o,t);const c={depth:8,bevelEnabled:!0,bevelSegments:2,steps:2,bevelSize:1,bevelThickness:1},p=new e.ConeGeometry(50,70,8),m=new e.CylinderGeometry(50,75,80,8),h=new e.CylinderGeometry(75,85,80,8),P=new e.CylinderGeometry(85,85,200,8),S=new e.Shape;S.absarc(0,0,55,0,Math.PI*2,!1);const z=new e.Path;z.absarc(0,0,40,0,Math.PI*2,!0),S.holes.push(z);const G=new e.ExtrudeGeometry(S,{depth:40,bevelEnabled:!1,curveSegments:8});G.center();const y=new e.CylinderGeometry(50,50,40,8),T=new e.Shape;T.moveTo(o-18,t+45),T.lineTo(o+18,t+45),T.lineTo(o+18,t-45),T.lineTo(o-18,t-45),T.lineTo(o-18,t+45);const de=new e.ShapeGeometry(T),V=new e.ExtrudeGeometry(s,c),$=new e.CylinderGeometry(55,55,40,8),he=new e.CylinderGeometry(55,35,10,8),L={flatShading:!0},le=new e.MeshLambertMaterial({color:d.red1,...L}),me=new e.MeshLambertMaterial({color:d.red2,...L}),B=new e.MeshLambertMaterial({color:d.red3,...L}),we=new e.MeshLambertMaterial({color:d.grey,...L}),A=new e.MeshLambertMaterial({color:d.darkGrey,side:e.DoubleSide,...L}),ue=new e.MeshLambertMaterial({color:d.windowDarkBlue}),pe=new e.MeshLambertMaterial({color:d.windowBlue}),fe=new e.MeshLambertMaterial({color:d.thrusterOrange,...L}),H=new e.Mesh(p,le);H.position.y=70,H.castShadow=!0,H.receiveShadow=!0;const Y=new e.Mesh(m,me);Y.castShadow=!0,Y.receiveShadow=!0;const O=new e.Mesh(h,B);O.position.y=-70,O.castShadow=!0,O.receiveShadow=!0,this.roof=new e.Object3D,this.roof.add(H,Y,O);const E=new e.Mesh(P,we);E.position.y=-210,E.position.x=0,E.position.z=0,E.castShadow=!0,E.receiveShadow=!0;const X=85,J=-310,K=1.6,C=1.8,g=new e.Mesh(V,B);g.position.y=J,g.position.z=-X,g.rotation.y=K-.08,g.scale.set(C,C,C),g.castShadow=!0,g.receiveShadow=!0;const M=new e.Mesh(V,B);M.position.y=J,M.position.z=X,M.rotation.y=-K,M.scale.set(C,C,C),M.castShadow=!0,M.receiveShadow=!0;const q=new e.Object3D;q.rotation.y+=.05,q.add(g,M),this.body=new e.Object3D,this.body.add(E,q);const D=new e.Mesh(G,A);D.position.y=-200,D.position.x=-77,D.rotation.z=1.59,D.rotation.y=Math.PI/2;const R=new e.Mesh(y,ue);R.position.y=-200,R.position.x=-67,R.rotation.z=1.59,R.castShadow=!0,R.receiveShadow=!0;const x=new e.Mesh(de,pe);x.position.x=-90,x.position.y=-200,x.rotation.y=-1.5,x.rotation.x=.82,x.receiveShadow=!0,this.window=new e.Object3D,this.window.add(D,R,x);const _=new e.Mesh($,A);_.position.y=-305,_.receiveShadow=!0,_.castShadow=!0;const F=new e.Mesh(he,fe);F.position.y=-330,F.receiveShadow=!0,F.castShadow=!0;const I=new e.Mesh($,A);I.position.y=-340,I.scale.set(.7,.55,.7),I.receiveShadow=!0,I.castShadow=!0,this.base=new e.Object3D,this.base.add(_,F,I),this.mesh.add(this.roof),this.mesh.add(this.body),this.mesh.add(this.window),this.mesh.add(this.base)}}let b,v;class f{mesh;constructor(){b||(b=new e.SphereGeometry(20,6,6)),v||(v=new e.MeshLambertMaterial({color:16777215,flatShading:!0,transparent:!0}));const s=v.clone();this.mesh=new e.Mesh(b,s),this.mesh.visible=!1,a.add(this.mesh)}}let a,w,r,i,u=[],l=!1;function j(){const n=document.getElementById("rocket-canvas-container");n&&(W(),te(n),oe(),ne(),N(),window.addEventListener("resize",()=>{se(),W()}))}function W(){l=window.innerWidth<768}function te(n){const s=window.innerHeight,o=window.innerWidth;a=new e.Scene;const t=o/s,c=60,p=1,m=950;w=new e.PerspectiveCamera(c,t,p,m),w.position.x=0,w.position.z=400,w.position.y=50,r=new e.WebGLRenderer({alpha:!0,antialias:!0,powerPreference:"high-performance"}),r.setPixelRatio(Math.min(window.devicePixelRatio,3)),r.setSize(o,s),r.shadowMap.enabled=!0,r.shadowMap.type=e.PCFSoftShadowMap,n.appendChild(r.domElement)}function oe(){const n=new e.HemisphereLight(11184810,4473924,1.5),s=new e.AmbientLight(16777215,1.1),o=new e.DirectionalLight(16777215,1.5);o.position.set(150,150,0),o.castShadow=!0,o.shadow.bias=-.001,o.shadow.camera.left=-800,o.shadow.camera.right=800,o.shadow.camera.top=800,o.shadow.camera.bottom=-800,o.shadow.camera.near=1,o.shadow.camera.far=1200,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024;const t=new e.DirectionalLight(d.thrusterOrange,1);t.position.set(0,-5,0),t.castShadow=!0,t.shadow.camera.left=-100,t.shadow.camera.right=100,t.shadow.camera.top=100,t.shadow.camera.bottom=-100,t.shadow.camera.near=1,t.shadow.camera.far=1e3,t.shadow.mapSize.width=1024,t.shadow.mapSize.height=1024;const c=new e.DirectionalLight(16777215,.5);c.position.set(-200,100,100),a.add(n),a.add(o),a.add(t),a.add(s),a.add(c)}function ne(){i=new U,i.mesh.scale.set(.2,.2,.2),i.mesh.position.y=-40,i.mesh.rotation.y=Math.PI/2,a.add(i.mesh)}function se(){const n=window.innerHeight,s=window.innerWidth;r.setSize(s,n),w.aspect=s/n,w.updateProjectionMatrix()}function N(){r.render(a,w);const n=window.scrollY||document.documentElement.scrollTop,s=document.documentElement.scrollHeight-window.innerHeight,o=s>0?n/s:0,t=Math.max(0,Math.min(1,o)),c=-200;let m=c+(250-c)*t;if(t>.95){const P=(t-.95)/.05,S=P*P*2500;m+=S}i.mesh.position.y+=(m-i.mesh.position.y)*.1;const h=l?0:-window.innerWidth*.18;i.mesh.position.x=h,i.mesh.position.z=0,i.mesh.rotation.y+=.01,i.mesh.rotation.x=0,i.mesh.rotation.z=0,t>.001&&t<=.98&&Math.random()>.95&&re(i,t),requestAnimationFrame(N)}function ie(){return u.length>0?u.pop():new f}function ae(n){n.mesh.visible=!1,u.push(n)}function re(n,s){let o=ie();o&&ce(o,n,s)}function ce(n,s,o){n.mesh.visible=!0,n.mesh.position.x=s.mesh.position.x,n.mesh.position.y=s.mesh.position.y-80,n.mesh.position.z=0;const t=Math.random()*.2+.35;let c=1,p=1,m=1,h=1;if(o<.4)h=4,c=1,p=Math.random()*.9,m=0;else if(o<.6){const y=(o-.4)/.2;h=4-y*1,c=1,p=.9+y*.1,m=y}else{h=1;const y=Math.random()*.1;c=1,p=1-y,m=1-y}n.mesh.scale.set(.4*t*h,.4*t*h,.4*t*h),n.mesh.rotation.set(Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2),n.mesh.material.color.setRGB(c,p,m);const P=s.mesh.position.x,S=s.mesh.position.y-500,z=.8+Math.random()*.6,G=.65;k.to(n.mesh.position,{duration:1.3*z*G,x:P,y:S,ease:"none",onComplete:()=>ae(n)}),k.to(n.mesh.scale,{duration:z*G,x:t*1.8*h,y:t*1.8*h,z:t*1.8*h,ease:"linear"})}j()}function ge(){const e=()=>{"requestIdleCallback"in window?requestIdleCallback(()=>ee(),{timeout:3e3}):setTimeout(ee,200)};document.readyState==="complete"?e():window.addEventListener("load",e)}ge();
