"use strict";(self.webpackChunkWinwoo_blog=self.webpackChunkWinwoo_blog||[]).push([[705],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>u});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=r.createContext({}),s=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=s(e.components);return r.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=s(t),u=i,h=m["".concat(c,".").concat(u)]||m[u]||p[u]||a;return t?r.createElement(h,l(l({ref:n},d),{},{components:t})):r.createElement(h,l({ref:n},d))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,l=new Array(a);l[0]=m;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var s=2;s<a;s++)l[s]=t[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6982:(e,n,t)=>{t.d(n,{Z:()=>l});var r,i=t(7294);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}const l=e=>{let{title:n,titleId:t,...l}=e;return i.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:12,height:16,viewBox:"0 0 12 16",role:"img","aria-labelledby":t},l),n?i.createElement("title",{id:t},n):null,r||(r=i.createElement("path",{fillRule:"evenodd",d:"M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"})))}},6231:(e,n,t)=>{t.d(n,{Z:()=>h});var r=t(7294);const i="unorderedList_Bf_c",a="listItem_mbuj",l="titleArea_SAgt",o="title_RnVK",c="linkSVG_P7Tu";var s=t(6010),d=t(9960),p=t(941),m=t(6982);const u=t.p+"assets/images/chrome-fb03012f7168f90e8c56ea6703933408.png";function h(e){let{data:n=[],wrapperClassName:t,wrapperStyle:h}=e;return r.createElement("div",{style:h,className:(0,s.Z)(i,t)},r.createElement("ul",null,n.map(((e,n)=>r.createElement("li",{className:a,key:n},r.createElement(p.Z,{sources:{light:e.src||u,dark:e.srcDark?e.srcDark:e.src||u},alt:e.title,loading:"lazy"}),r.createElement(d.Z,{to:e.link,className:l},r.createElement("div",{className:o},e.title),r.createElement("div",{className:c},r.createElement(m.Z,null))))))))}},3404:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=t(7462),i=(t(7294),t(3905)),a=t(9351),l=t(6231);const o={title:"\u5c06 Virtual Dom \u8f6c\u5316\u4e3a\u771f\u5b9e DOM \u7ed3\u6784"},c=void 0,s={unversionedId:"interview/hands-on-practice/vitual-dom",id:"interview/hands-on-practice/vitual-dom",title:"\u5c06 Virtual Dom \u8f6c\u5316\u4e3a\u771f\u5b9e DOM \u7ed3\u6784",description:"\u5b9e\u73b0\u4e00",source:"@site/docs/interview/hands-on-practice/vitual-dom.mdx",sourceDirName:"interview/hands-on-practice",slug:"/interview/hands-on-practice/vitual-dom",permalink:"/blog/docs/interview/hands-on-practice/vitual-dom",draft:!1,tags:[],version:"current",frontMatter:{title:"\u5c06 Virtual Dom \u8f6c\u5316\u4e3a\u771f\u5b9e DOM \u7ed3\u6784"},sidebar:"interview",previous:{title:"\u624b\u52a8\u5b9e\u73b0 ES5 \u7ee7\u627f",permalink:"/blog/docs/interview/hands-on-practice/es5-inheritance"},next:{title:"\u8f6e\u64ad\u56fe\u5b9e\u73b0",permalink:"/blog/docs/interview/hands-on-practice/carousel"}},d={},p=[{value:"\u5b9e\u73b0\u4e00",id:"\u5b9e\u73b0\u4e00",level:2},{value:"\u5b9e\u73b0\u4e8c",id:"\u5b9e\u73b0\u4e8c",level:2},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}],m={toc:p};function u(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"\u5b9e\u73b0\u4e00"},"\u5b9e\u73b0\u4e00"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// vnode\u7ed3\u6784\uff1a\n// {\n//   tag,\n//   attrs,\n//   children,\n// }\n\n//Virtual DOM => DOM\nfunction render(vnode, container) {\n  container.appendChild(_render(vnode));\n}\nfunction _render(vnode) {\n  // \u5982\u679c\u662f\u6570\u5b57\u7c7b\u578b\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\n  if (typeof vnode === 'number') {\n    vnode = String(vnode);\n  }\n  // \u5b57\u7b26\u4e32\u7c7b\u578b\u76f4\u63a5\u5c31\u662f\u6587\u672c\u8282\u70b9\n  if (typeof vnode === 'string') {\n    return document.createTextNode(vnode);\n  }\n  // \u666e\u901aDOM\n  const dom = document.createElement(vnode.tag);\n  if (vnode.attrs) {\n    // \u904d\u5386\u5c5e\u6027\n    Object.keys(vnode.attrs).forEach(key => {\n      const value = vnode.attrs[key];\n      dom.setAttribute(key, value);\n    })\n  }\n  // \u5b50\u6570\u7ec4\u8fdb\u884c\u9012\u5f52\u64cd\u4f5c\n  vnode.children.forEach(child => render(child, dom));\n  return dom;\n}\n")),(0,i.kt)("h2",{id:"\u5b9e\u73b0\u4e8c"},"\u5b9e\u73b0\u4e8c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"export default class Element {\n  /**\n     * @param {String} tag 'div'\n     * @param {Object} props { class: 'item' }\n     * @param {Array} children [ Element1, 'text']\n     * @param {String} key option\n     */\n  constructor(tag, props, children, key) {\n    this.tag = tag\n    this.props = props\n    if (Array.isArray(children)) {\n      this.children = children\n    } else if (isString(children)) {\n      this.key = children\n      this.children = null\n    }\n    if (key) this.key = key\n  }\n  // \u6e32\u67d3\n  render() {\n    let root = this._createElement(\n      this.tag,\n      this.props,\n      this.children,\n      this.key\n    )\n    document.body.appendChild(root)\n    return root\n  }\n  create() {\n    return this._createElement(this.tag, this.props, this.children, this.key)\n  }\n  // \u521b\u5efa\u8282\u70b9\n  _createElement(tag, props, child, key) {\n    // \u901a\u8fc7 tag \u521b\u5efa\u8282\u70b9\n    let el = document.createElement(tag)\n    // \u8bbe\u7f6e\u8282\u70b9\u5c5e\u6027\n    for (const key in props) {\n      if (props.hasOwnProperty(key)) {\n        const value = props[key]\n        el.setAttribute(key, value)\n      }\n    }\n    if (key) {\n      el.setAttribute('key', key)\n    }\n    // \u9012\u5f52\u6dfb\u52a0\u5b50\u8282\u70b9\n    if (child) {\n      child.forEach(element => {\n        let child\n        if (element instanceof Element) {\n          child = this._createElement(\n            element.tag,\n            element.props,\n            element.children,\n            element.key\n          )\n        } else {\n          child = document.createTextNode(element)\n        }\n        el.appendChild(child)\n      })\n    }\n    return el\n  }\n}export default class Element {\n  /**\n     * @param {String} tag 'div'\n     * @param {Object} props { class: 'item' }\n     * @param {Array} children [ Element1, 'text']\n     * @param {String} key option\n     */\n  constructor(tag, props, children, key) {\n    this.tag = tag\n    this.props = props\n    if (Array.isArray(children)) {\n      this.children = children\n    } else if (isString(children)) {\n      this.key = children\n      this.children = null\n    }\n    if (key) this.key = key\n  }\n  // \u6e32\u67d3\n  render() {\n    let root = this._createElement(\n      this.tag,\n      this.props,\n      this.children,\n      this.key\n    )\n    document.body.appendChild(root)\n    return root\n  }\n  create() {\n    return this._createElement(this.tag, this.props, this.children, this.key)\n  }\n  // \u521b\u5efa\u8282\u70b9\n  _createElement(tag, props, child, key) {\n    // \u901a\u8fc7 tag \u521b\u5efa\u8282\u70b9\n    let el = document.createElement(tag)\n    // \u8bbe\u7f6e\u8282\u70b9\u5c5e\u6027\n    for (const key in props) {\n      if (props.hasOwnProperty(key)) {\n        const value = props[key]\n        el.setAttribute(key, value)\n      }\n    }\n    if (key) {\n      el.setAttribute('key', key)\n    }\n    // \u9012\u5f52\u6dfb\u52a0\u5b50\u8282\u70b9\n    if (child) {\n      child.forEach(element => {\n        let child\n        if (element instanceof Element) {\n          child = this._createElement(\n            element.tag,\n            element.props,\n            element.children,\n            element.key\n          )\n        } else {\n          child = document.createTextNode(element)\n        }\n        el.appendChild(child)\n      })\n    }\n    return el\n  }\n}\n")),(0,i.kt)("h2",{id:"\u53c2\u8003"},"\u53c2\u8003"),(0,i.kt)(l.Z,{data:[{title:"\u4e3a\u4ec0\u4e48\u9700\u8981 Virtual Dom",link:"https://github.com/KieSun/awesome-frontend-source-interpretation/blob/master/article/react/Virtual%20Dom.md",src:a.Z}],mdxType:"ReferenceList"}))}u.isMDXComponent=!0},9351:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/javascript-a10d37851dff846a8a9e32cd99965a46.png"}}]);