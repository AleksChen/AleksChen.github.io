<!DOCTYPE html> <html lang="en"> <head><meta charset="UTF-8"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Blog"><meta name="msapplication-TileColor" content="#000000"><meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><meta name="description" content="在前端面试中，instanceof 是一个常见的问题。面试官通常会要求面试者手写 instanceof 的实现，以测试他们对 JavaScript 类型系统和原型链的理解。"><link rel="icon" href="/favicon.ico"><link rel="sitemap" href="/sitemap-index.xml"><title>手写 instanceof | Blog</title><link rel="stylesheet" href="/_astro/_page_.BSBGx04i.css">
<style>.outlines a[data-anchor-tag=H1]{margin-left:0}.outlines a[data-anchor-tag=H2]{margin-left:12px}.outlines a[data-anchor-tag=H3]{margin-left:24px}.outlines a[data-anchor-tag=H4]{margin-left:36px}.outlines a[data-anchor-tag=H5]{margin-left:48px}.outlines a[data-anchor-tag=H6]{margin-left:60px}
._tabset_selm3_1 ._tab-panel_selm3_1{display:none}._tabset_selm3_1 ._tab-panels_selm3_4{display:flex}._tabset_selm3_1 input[data-tab-name=direct]{display:none}._tabset_selm3_1 input[data-tab-name=direct]:checked~._tab-panels_selm3_4 ._tab-panel_selm3_1[data-tab-name=direct]{display:block}._tabset_selm3_1 input[data-tab-name=direct]:checked~._tab-labels_selm3_13 label[data-tab-name=direct]{border-bottom:2px solid red}._tabset_selm3_1 input[data-tab-name=app]{display:none}._tabset_selm3_1 input[data-tab-name=app]:checked~._tab-panels_selm3_4 ._tab-panel_selm3_1[data-tab-name=app]{display:block}._tabset_selm3_1 input[data-tab-name=app]:checked~._tab-labels_selm3_13 label[data-tab-name=app]{border-bottom:2px solid red}
</style>
<link rel="stylesheet" href="/_astro/_page_.B-P1Oylg.css">
<link rel="stylesheet" href="/_astro/_id_.C16MaNET.css"><script type="module" src="/_astro/hoisted.BMQupta8.js"></script></head> <body class="text-text bg-bg"> <header class="flex justify-between items-center p-2 gap-2 h-10 shadow-sm"> <a href="/" class="text-button text-lg" aria-label="homepage"> <div class="i-ri:home-4-line transition-transform hover:scale-120 active:scale-95"></div> </a> <div class="flex gap-2 items-center header-operations">   <div id="auth"></div> </div> </header>  <main> <div class="content"> <div class="w-full flex gap-2 pb-2"> <a href="/tag/JavaScript" class="rounded hover:bg-gray-200 dark:hover:bg-modal px-3 py-1 cursor-pointer">
#JavaScript </a> </div> <div class="ud-root read-only flex-1"><h1 level="1" id="手写-instanceof">手写 instanceof</h1><p>在前端面试中，<code>instanceof</code> 是一个常见的问题。面试官通常会要求面试者手写 <code>instanceof</code> 的实现，以测试他们对 JavaScript 类型系统和原型链的理解。</p><h2 level="2" id="类型判断">类型判断</h2><p>在 JavaScript 中数据分为基本类型和引用类型。</p><p>基本类型</p><ul><li><p><code>Number</code></p></li><li><p><code>String</code></p></li><li><p><code>Boolean</code></p></li><li><p><code>undefined</code></p></li><li><p><code>null</code></p></li><li><p><code>Symbol</code></p></li><li><p><code>BigInt</code></p></li></ul><p>引用类型</p><ul><li><p><code>Object</code></p></li><li><p><code>Array</code></p></li><li><p><code>Function</code></p></li><li><p><code>Date</code></p></li><li><p><code>RegExp</code></p></li><li><p><code>Map</code></p></li><li><p><code>Set</code></p></li><li><p><code>Promise</code></p></li><li><p>...</p></li></ul><p>在实际工作中，我们常常需要判断一个变量的类型。对于基本类型(<code>null</code> 除外) 和 <code>Function</code> 我们可以使用 <code>typeof</code> 进行判断。对于引用类型我们则需要使用 <code>instanceof</code> 进行判断。</p><div class="llt-code readonly"><div class="language">javascript</div><div class="wrapper"><pre><code class="language-javascript"><span class="hljs-comment" class="hljs-comment">// 基本数据类型</span>
<span class="hljs-keyword" class="hljs-keyword">let</span> numberExample = <span class="hljs-number" class="hljs-number">123</span>;
<span class="hljs-keyword" class="hljs-keyword">let</span> stringExample = <span class="hljs-string" class="hljs-string">&quot;hello&quot;</span>;
<span class="hljs-keyword" class="hljs-keyword">let</span> booleanExample = <span class="hljs-literal" class="hljs-literal">true</span>;
<span class="hljs-keyword" class="hljs-keyword">let</span> nullExample = <span class="hljs-literal" class="hljs-literal">null</span>;
<span class="hljs-keyword" class="hljs-keyword">let</span> undefinedExample = <span class="hljs-literal" class="hljs-literal">undefined</span>;
<span class="hljs-keyword" class="hljs-keyword">let</span> symbolExample = <span class="hljs-title,class_" class="hljs-title,class_">Symbol</span>(<span class="hljs-string" class="hljs-string">&quot;example&quot;</span>);
<span class="hljs-keyword" class="hljs-keyword">let</span> bigIntExample = <span class="hljs-title,class_" class="hljs-title,class_">BigInt</span>(<span class="hljs-number" class="hljs-number">10</span>);

<span class="hljs-comment" class="hljs-comment">// 引用类型</span>
<span class="hljs-keyword" class="hljs-keyword">let</span> objectExample = {};
<span class="hljs-keyword" class="hljs-keyword">let</span> arrayExample = [];
<span class="hljs-keyword" class="hljs-keyword">let</span> functionExample = <span class="hljs-keyword" class="hljs-keyword">function</span> (<span class="hljs-params" class="hljs-params"></span>) {};
<span class="hljs-keyword" class="hljs-keyword">let</span> dateExample = <span class="hljs-keyword" class="hljs-keyword">new</span> <span class="hljs-title,class_" class="hljs-title,class_">Date</span>();
<span class="hljs-keyword" class="hljs-keyword">let</span> regExpExample = <span class="hljs-regexp" class="hljs-regexp">/abc/</span>;
<span class="hljs-keyword" class="hljs-keyword">let</span> mapExample = <span class="hljs-keyword" class="hljs-keyword">new</span> <span class="hljs-title,class_" class="hljs-title,class_">Map</span>();
<span class="hljs-keyword" class="hljs-keyword">let</span> setExample = <span class="hljs-keyword" class="hljs-keyword">new</span> <span class="hljs-title,class_" class="hljs-title,class_">Set</span>();
<span class="hljs-keyword" class="hljs-keyword">let</span> promiseExample = <span class="hljs-keyword" class="hljs-keyword">new</span> <span class="hljs-title,class_" class="hljs-title,class_">Promise</span>(<span class="hljs-function" class="hljs-function">() =&gt;</span> {});

<span class="hljs-comment" class="hljs-comment">// typeof 适用范围</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> numberExample); <span class="hljs-comment" class="hljs-comment">// number</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> stringExample); <span class="hljs-comment" class="hljs-comment">// string</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> booleanExample); <span class="hljs-comment" class="hljs-comment">// boolean</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> undefinedExample); <span class="hljs-comment" class="hljs-comment">// undefined</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> symbolExample); <span class="hljs-comment" class="hljs-comment">// symbol</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> bigIntExample); <span class="hljs-comment" class="hljs-comment">// bigint</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> functionExample); <span class="hljs-comment" class="hljs-comment">// function</span>

<span class="hljs-comment" class="hljs-comment">// typeof 对 null 和于其他引用类型无法判断</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> nullExample); <span class="hljs-comment" class="hljs-comment">// object。这是一个历史遗留问题，实际上 null 是基本数据类型</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> objectExample); <span class="hljs-comment" class="hljs-comment">// object</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> arrayExample); <span class="hljs-comment" class="hljs-comment">// object</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> dateExample); <span class="hljs-comment" class="hljs-comment">// object</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> regExpExample); <span class="hljs-comment" class="hljs-comment">// object</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> mapExample); <span class="hljs-comment" class="hljs-comment">// object</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> setExample); <span class="hljs-comment" class="hljs-comment">// object</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(<span class="hljs-keyword" class="hljs-keyword">typeof</span> promiseExample); <span class="hljs-comment" class="hljs-comment">// object</span>

<span class="hljs-comment" class="hljs-comment">// instanceof 判断对象具体是哪种类型的对象</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(objectExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Object</span>); <span class="hljs-comment" class="hljs-comment">// true</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(arrayExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Array</span>); <span class="hljs-comment" class="hljs-comment">// true</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(functionExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Function</span>); <span class="hljs-comment" class="hljs-comment">// true</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(dateExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Date</span>); <span class="hljs-comment" class="hljs-comment">// true</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(regExpExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">RegExp</span>); <span class="hljs-comment" class="hljs-comment">// true</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(mapExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Map</span>); <span class="hljs-comment" class="hljs-comment">// true</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(setExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Set</span>); <span class="hljs-comment" class="hljs-comment">// true</span>
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(promiseExample <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Promise</span>); <span class="hljs-comment" class="hljs-comment">// true</span></code></pre></div></div><p></p><h2 level="2" id="instanceof-是什么">instanceof 是什么</h2><p>MDN 定义：<code>instanceof</code> 是 JavaScript 的一个二元操作符，用于测试构造函数的 <code>prototype</code> 属性是否出现在对象的原型链中的任何位置。换句话说，<code>instanceof</code> 可以用于判断一个对象是否由某个构造函数创建的。</p><div class="llt-code readonly"><div class="language">javascript</div><div class="wrapper"><pre><code class="language-javascript"><span class="hljs-keyword" class="hljs-keyword">function</span> <span class="hljs-title,function_" class="hljs-title,function_">Car</span>(<span class="hljs-params" class="hljs-params">make, model, year</span>) {
  <span class="hljs-variable,language_" class="hljs-variable,language_">this</span>.<span class="hljs-property" class="hljs-property">make</span> = make;
  <span class="hljs-variable,language_" class="hljs-variable,language_">this</span>.<span class="hljs-property" class="hljs-property">model</span> = model;
  <span class="hljs-variable,language_" class="hljs-variable,language_">this</span>.<span class="hljs-property" class="hljs-property">year</span> = year;
}

<span class="hljs-keyword" class="hljs-keyword">const</span> auto = <span class="hljs-keyword" class="hljs-keyword">new</span> <span class="hljs-title,class_" class="hljs-title,class_">Car</span>(<span class="hljs-string" class="hljs-string">&quot;Honda&quot;</span>, <span class="hljs-string" class="hljs-string">&quot;Accord&quot;</span>, <span class="hljs-number" class="hljs-number">1998</span>);
<span class="hljs-variable,language_" class="hljs-variable,language_">console</span>.<span class="hljs-title,function_" class="hljs-title,function_">log</span>(auto <span class="hljs-keyword" class="hljs-keyword">instanceof</span> <span class="hljs-title,class_" class="hljs-title,class_">Car</span>); <span class="hljs-comment" class="hljs-comment">// true</span></code></pre></div></div><p></p><p>在这个例子中，auto 是 Car 的一个实例，所以 <code>auto instanceof Car</code> 返回 <code>true</code>。</p><blockquote><p>注意：左侧可以是任意类型，而右侧必须是一个函数的实例。参数错误时会报错。</p></blockquote><img src="/post-assets/m46rsblg-参数要求.png" alt="参数要求.png"><h2 level="2" id="instanceof-原理">instanceof 原理</h2><p>每个对象都有一个 <code>__proto__</code> 属性。在对象创建的时候会将 <code>__proto__</code> 属性指向它的构造函数的 <code>prototype</code> 属性上。并且构造函数的 <code>prototype</code> 属性本身也是一个对象。它也有自己的 <code>__proto__</code> 属性。通过 <code>__proto__</code> -&gt; <code>prototype</code> 这样串联形成一个链条，这个链条就是原型链。原型链的终点是 <code>Object</code>，`Object.prototype.__proto__` 的值为 <code>null</code>。</p><p>每个对象的构造函数都可以在原型链上找到，因此 <code>instanceof</code> 通过原型链可以判断对象是否由某个构造函数创建。</p><img src="/post-assets/m46rsblj-原型链.png" alt="原型链.png"><p></p><h2 level="2" id="实现一个-instanceof">实现一个 instanceof</h2><h3 level="3" id="手写-instanceof">手写 instanceof</h3><p>手写 <code>instanceof</code> 的实现可以帮助我们更深入地理解 JavaScript 的原型链。下面是一个简易的 <code>instanceof</code> 实现：</p><ol><li><p>参数校验</p></li><li><p>比较 <code>obj.__proto === constructor.prototype</code></p><ul><li><p>找到就立即返回 <code>true</code></p></li><li><p>遍历到原型链终点 <code>constructor.prototype === null</code> 时，返回 <code>false</code></p></li></ul></li></ol><div class="llt-code readonly"><div class="language">javascript</div><div class="wrapper"><pre><code class="language-javascript"><span class="hljs-keyword" class="hljs-keyword">function</span> <span class="hljs-title,function_" class="hljs-title,function_">myInstanceof</span>(<span class="hljs-params" class="hljs-params">obj, constructor</span>) {
  <span class="hljs-keyword" class="hljs-keyword">const</span> <span class="hljs-variable,constant_" class="hljs-variable,constant_">BASIC_TYPE</span> = [
    <span class="hljs-string" class="hljs-string">&quot;[object Undefined]&quot;</span>,
    <span class="hljs-string" class="hljs-string">&quot;[object Null]&quot;</span>,
    <span class="hljs-string" class="hljs-string">&quot;[object Number]&quot;</span>,
    <span class="hljs-string" class="hljs-string">&quot;[object String]&quot;</span>,
    <span class="hljs-string" class="hljs-string">&quot;[object Boolean]&quot;</span>,
    <span class="hljs-string" class="hljs-string">&quot;[object Symbol]&quot;</span>,
    <span class="hljs-string" class="hljs-string">&quot;[object BigInt]&quot;</span>,
  ];

  <span class="hljs-keyword" class="hljs-keyword">const</span> objType = <span class="hljs-title,class_" class="hljs-title,class_">Object</span>.<span class="hljs-property" class="hljs-property"><span class="hljs-keyword" class="hljs-keyword">prototype</span></span>.<span class="hljs-property" class="hljs-property">toString</span>.<span class="hljs-title,function_" class="hljs-title,function_">call</span>(obj);
  <span class="hljs-keyword" class="hljs-keyword">const</span> constructorType = <span class="hljs-title,class_" class="hljs-title,class_">Object</span>.<span class="hljs-property" class="hljs-property"><span class="hljs-keyword" class="hljs-keyword">prototype</span></span>.<span class="hljs-property" class="hljs-property">toString</span>.<span class="hljs-title,function_" class="hljs-title,function_">call</span>(constructor);

  <span class="hljs-keyword" class="hljs-keyword">if</span> (<span class="hljs-variable,constant_" class="hljs-variable,constant_">BASIC_TYPE</span>.<span class="hljs-title,function_" class="hljs-title,function_">includes</span>(constructorType)) {
    <span class="hljs-keyword" class="hljs-keyword">throw</span> <span class="hljs-title,class_" class="hljs-title,class_">TypeError</span>(<span class="hljs-string" class="hljs-string">&quot;Right-hand side of &apos;instanceof&apos; is not an object&quot;</span>);
  }
  <span class="hljs-keyword" class="hljs-keyword">if</span> (<span class="hljs-keyword" class="hljs-keyword">typeof</span> constructor !== <span class="hljs-string" class="hljs-string">&quot;function&quot;</span>) {
    <span class="hljs-keyword" class="hljs-keyword">throw</span> <span class="hljs-title,class_" class="hljs-title,class_">TypeError</span>(<span class="hljs-string" class="hljs-string">&quot;Right-hand side of &apos;instanceof&apos; is not callable&quot;</span>);
  }
  <span class="hljs-keyword" class="hljs-keyword">if</span> (<span class="hljs-variable,constant_" class="hljs-variable,constant_">BASIC_TYPE</span>.<span class="hljs-title,function_" class="hljs-title,function_">includes</span>(objType)) {
    <span class="hljs-keyword" class="hljs-keyword">return</span> <span class="hljs-literal" class="hljs-literal">false</span>;
  }

  <span class="hljs-keyword" class="hljs-keyword">let</span> objProto = <span class="hljs-title,class_" class="hljs-title,class_">Reflect</span>.<span class="hljs-title,function_" class="hljs-title,function_">getPrototypeOf</span>(obj);
  <span class="hljs-keyword" class="hljs-keyword">while</span> (objProto !== <span class="hljs-literal" class="hljs-literal">null</span>) {
    <span class="hljs-keyword" class="hljs-keyword">if</span> (<span class="hljs-title,class_" class="hljs-title,class_">Object</span>.<span class="hljs-title,function_" class="hljs-title,function_">is</span>(objProto, constructor.<span class="hljs-property" class="hljs-property"><span class="hljs-keyword" class="hljs-keyword">prototype</span></span>)) {
      <span class="hljs-keyword" class="hljs-keyword">return</span> <span class="hljs-literal" class="hljs-literal">true</span>;
    }
    objProto = <span class="hljs-title,class_" class="hljs-title,class_">Reflect</span>.<span class="hljs-title,function_" class="hljs-title,function_">getPrototypeOf</span>(obj);
  }
  <span class="hljs-keyword" class="hljs-keyword">return</span> <span class="hljs-literal" class="hljs-literal">false</span>;
}</code></pre></div></div><blockquote><p>当传入的参数是对象时，如果操作成功 &nbsp;<code>Reflect.getPrototypeOf(target)</code>&nbsp; 返回对象的原型，如果操作失败（比如，目标不是对象）则返回 &nbsp;<code>false</code>。</p></blockquote><p></p><h3 level="3" id="测试结果">测试结果</h3><img src="/post-assets/m46rsbli-测试结果.png" alt="测试结果.png"><p></p><h2 level="2" id="总结">总结</h2><p>本文介绍了 JavaScript 类型判断的方法。对 <code>instanceof</code> 的概念、用法和实现进行了介绍。</p><p></p><h2 level="2" id="资料">资料</h2><ul><li><p><a target="_blank" rel="noreferer" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof">instanceof - JavaScript | MDN</a></p></li></ul><script type="module">const injectHtml = (root, html) => {
  const iframe = document.createElement("iframe");
  const htmlContent = `<html><head></head><body>${html}</body></html>`;
  iframe.style.width = "100%";
  iframe.style.height = "100%";
  iframe.onload = () => {
    const doc = iframe.contentDocument || iframe.contentWindow?.document;
    if (!doc) {
      return;
    }
    doc.open();
    doc.write(htmlContent);
    doc.close();
  };
  root.replaceChildren(iframe);
}
  document.querySelectorAll('.playground')?.forEach(el=>{
    const html = el.getAttribute('data-html');
    if (html) {
      injectHtml(el,html);
    }
    const indicator = document.createElement("div");
    indicator.className = "indicator";
    const showCode = document.createElement("div");
    showCode.className = "show-code";
    showCode.innerText = "code";
    showCode.onclick = () => {
      el.parentElement.classList.remove("preview-only");
    };
    const showPreview = document.createElement("div");
    showPreview.className = "show-preview";
    showPreview.innerText = "preview";
    showPreview.onclick = () => {
      el.parentElement.classList.add("preview-only");
    };
    indicator.appendChild(showCode);
    indicator.appendChild(showPreview);
    el.parentElement.appendChild(indicator);
    if (window.screen.width < 768) {
      showPreview.click();
    }
  });</script></div> <div data-page-id="1708-implement-instanceof" class="navigator flex justify-between items-center mt-4 py-4"> <div></div> <div></div> </div> </div> <div class="outline-wrapper"></div> </main>  <footer class="mt-8 flex justify-center"> <small class="w-full max-w-[720px] min-h-12 flex justify-center items-center opacity-80"> <a href="https://github.com/AleksChen" target="_blank">© AleksChen</a> </small> </footer> </body></html>