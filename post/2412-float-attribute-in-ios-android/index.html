<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Blog"><meta name="msapplication-TileColor" content="#000000"><meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><link rel="icon" href="/favicon.ico"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"><title>
      H5 中的浮点数渲染差异：iOS vs Android | Aleks
    </title><!-- 基础 SEO --><meta name="description" content="移动端 H5 开发中，浮点数的渲染处理是一个常见但容易被忽视的问题。iOS 和 Android 平台由于底层渲染引擎的差异，对浮点数的处理存在明显不同。了解这些差异对于开发高质量的跨平台 H5 应用至关重要。"><meta name="author" content="Aleks"><meta name="keywords" content="Android, iOS"><link rel="canonical" href="https://blog.002085.xyz//post/2412-float-attribute-in-ios-android"><!-- Open Graph --><meta property="og:type" content="article"><meta property="og:title" content="H5 中的浮点数渲染差异：iOS vs Android"><meta property="og:description" content="移动端 H5 开发中，浮点数的渲染处理是一个常见但容易被忽视的问题。iOS 和 Android 平台由于底层渲染引擎的差异，对浮点数的处理存在明显不同。了解这些差异对于开发高质量的跨平台 H5 应用至关重要。"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/android/android-original.svg"><meta property="og:url" content="https://blog.002085.xyz//post/2412-float-attribute-in-ios-android"><meta property="og:site_name" content="Aleks"><meta property="article:published_time" content="2024-12-13T09:26:35.808Z"><meta property="article:modified_time" content="2024-12-13T09:26:35.809Z"><meta property="article:tag" content="Android"><meta property="article:tag" content="iOS"><meta property="article:author" content="Aleks"><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="H5 中的浮点数渲染差异：iOS vs Android"><meta name="twitter:description" content="移动端 H5 开发中，浮点数的渲染处理是一个常见但容易被忽视的问题。iOS 和 Android 平台由于底层渲染引擎的差异，对浮点数的处理存在明显不同。了解这些差异对于开发高质量的跨平台 H5 应用至关重要。"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/android/android-original.svg"><!-- JSON-LD 结构化数据 --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"H5 中的浮点数渲染差异：iOS vs Android","description":"移动端 H5 开发中，浮点数的渲染处理是一个常见但容易被忽视的问题。iOS 和 Android 平台由于底层渲染引擎的差异，对浮点数的处理存在明显不同。了解这些差异对于开发高质量的跨平台 H5 应用至关重要。","image":"https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/android/android-original.svg","datePublished":"2024-12-13T09:26:35.808Z","dateModified":"2024-12-13T09:26:35.809Z","author":{"@type":"Person","name":"Aleks"},"publisher":{"@type":"Organization","name":"Aleks","logo":{"@type":"ImageObject","url":"https://blog.002085.xyz/favicon.ico"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.002085.xyz//post/2412-float-attribute-in-ios-android"},"keywords":"Android, iOS"}</script><!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-G1EC4WNBZJ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-G1EC4WNBZJ");
    </script> --><!-- Privacy-friendly analytics by Plausible --><script async src="https://plausible.io/js/pa-bqrNOvlYoay2S1opDAt9D.js"></script><script type="module">let e=window.scrollY;const t=document.getElementById("main-header");window.addEventListener("scroll",()=>{const l=window.scrollY;t&&(l<e||l<=100?t.classList.remove("-translate-y-full"):l>100&&l>e&&t.classList.add("-translate-y-full"),e=l)});</script><script>
      // 暗色模式初始化
      const theme = (() => {
        if (
          typeof localStorage !== "undefined" &&
          localStorage.getItem("theme")
        ) {
          return localStorage.getItem("theme");
        }
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          return "dark";
        }
        return "light";
      })();

      if (theme === "dark") {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }

      window.localStorage.setItem("theme", theme);
    </script><link rel="stylesheet" href="/assets/about.CVVVYVOO.css">
<link rel="stylesheet" href="/assets/index.yCyos9fH.css">
<style>@media(min-width:1024px){.layout-grid-cols[data-astro-cid-ztig7rse]{grid-template-columns:minmax(0,1fr) 240px}}
</style></head> <body class="bg-bg text-text min-h-screen flex flex-col font-sans transition-colors duration-300">  <header id="main-header" class="sticky top-0 z-50 w-full bg-bg border-b-2 border-text transition-transform duration-300"> <div class="max-w-[800px] mx-auto px-4 h-16 flex items-center justify-between"> <a href="/" class="text-xl font-bold flex items-center gap-2 hover:text-primary transition-colors" aria-label="homepage"> <div class="i-ri:home-4-line w-6 h-6"></div> </a> <div class="flex items-center gap-4"> <nav class="hidden md:flex items-center gap-6"> <a href="/archives" class="text-sm font-medium hover:text-primary transition-colors">
归档
</a> <a href="/tags" class="text-sm font-medium hover:text-primary transition-colors">
标签
</a> <a href="/about" class="text-sm font-medium hover:text-primary transition-colors">
关于
</a> </nav>  <div class="flex items-center gap-3 pl-4 border-l border-text"> <a href="https://github.com/AleksChen" target="_blank" class="hover:text-primary transition-transform hover:scale-110" title="GitHub"> <div class="i-ri:github-fill w-6 h-6"></div> </a> <button id="theme-toggle" class="hover:text-primary transition-transform hover:scale-110 focus:outline-none" title="Toggle Theme"> <div class="i-ri:sun-line w-6 h-6 dark:hidden"></div> <div class="i-ri:moon-line w-6 h-6 hidden dark:block"></div> </button> </div> </div> </div> </header> <main class="flex-1 w-full mx-auto px-4 py-8 animate-fade-in max-w-[1200px]">  <div class="grid grid-cols-1 gap-8 items-start layout-grid-cols" data-astro-cid-ztig7rse> <article class="w-full min-w-0" data-astro-cid-ztig7rse>  <header class="mb-8 pb-8 border-b border-border" data-astro-cid-ztig7rse> <div class="flex flex-wrap gap-2 mb-4" data-astro-cid-ztig7rse> <a href="/tag/Android" class="px-2 py-1 text-xs font-bold rounded-sm border border-text text-text bg-transparent shadow-[2px_2px_0_0_var(--color-text)] hover:translate-y-[1px] hover:translate-x-[1px] hover:shadow-none transition-all" data-astro-cid-ztig7rse>
#Android </a><a href="/tag/iOS" class="px-2 py-1 text-xs font-bold rounded-sm border border-text text-text bg-transparent shadow-[2px_2px_0_0_var(--color-text)] hover:translate-y-[1px] hover:translate-x-[1px] hover:shadow-none transition-all" data-astro-cid-ztig7rse>
#iOS </a> </div> <h1 class="text-3xl md:text-4xl font-bold mb-4 leading-tight text-text" data-astro-cid-ztig7rse> H5 中的浮点数渲染差异：iOS vs Android </h1> <div class="flex items-center gap-4 text-sm text-text-muted" data-astro-cid-ztig7rse> <time datetime="2024-12-13T09:26:35.808Z" class="flex items-center gap-1" data-astro-cid-ztig7rse> <div class="i-ri:calendar-line" data-astro-cid-ztig7rse></div> 12/13/2024 </time> <span class="flex items-center gap-1" title="最后更新时间" data-astro-cid-ztig7rse> <div class="i-ri:time-line" data-astro-cid-ztig7rse></div> 12/13/2024 </span> </div> </header>  <div class="prose prose-lg dark:prose-invert max-w-none break-words prose-a:text-primary prose-a:no-underline hover:prose-a:underline prose-headings:scroll-mt-24" data-astro-cid-ztig7rse> <h2 id="一概述"><strong>一、概述</strong></h2>
<p>移动端 H5 开发中，浮点数的渲染处理是一个常见但容易被忽视的问题。iOS 和 Android 平台由于底层渲染引擎的差异，对浮点数的处理存在明显不同。了解这些差异对于开发高质量的跨平台 H5 应用至关重要。</p>
<h2 id="二渲染差异对比"><strong>二、渲染差异对比</strong></h2>
<h3 id="1-文字渲染"><strong>1. 文字渲染</strong></h3>
<h4 id="ios-webkit">iOS (WebKit)</h4>
<ul>
<li>行高强制对齐整数像素，如 14.3px 会被四舍五入为 14px</li>
<li>字号会被四舍五入到最近的整数</li>
<li>原因：CoreText 渲染引擎为保证文字清晰度，强制像素对齐</li>
</ul>
<div class="code-block relative group my-6 rounded-lg overflow-hidden border border-border bg-[var(--shiki-bg)] shadow-sm">  <div class="relative"> <pre class="astro-code github-dark !my-0 !p-4 overflow-x-auto custom-scrollbar text-sm leading-relaxed" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>14.3px -&gt; 14px</span></span>
<span class="line"><span>14.7px -&gt; 15px</span></span>
<span class="line"><span>14.5px -&gt; 15px</span></span></code></pre> <button class="copy-btn absolute top-2 right-2 z-50 flex items-center gap-1.5 px-2 py-1 rounded bg-white/20 dark:bg-white/5 text-xs text-white hover:bg-primary/10 dark:hover:bg-white/15 transition-colors cursor-pointer opacity-0 group-hover:opacity-100" aria-label="Copy code"> <div class="i-ri:file-copy-line text-sm"></div> <span>Copy</span> </button> </div> </div> <script type="module">function c(){document.querySelectorAll(".copy-block-init").forEach(e=>e.remove()),document.querySelectorAll(".code-block").forEach(e=>{if(e.hasAttribute("data-copy-init"))return;e.setAttribute("data-copy-init","true");const i=e.querySelector(".copy-btn");i&&i.addEventListener("click",async()=>{const o=e.querySelector("code");if(!o)return;const n=o.innerText;try{await navigator.clipboard.writeText(n);const t=i.querySelector("div"),r=i.querySelector("span");t&&(t.className="i-ri:check-line text-blue-500 text-sm"),r&&(r.innerText="Copied!",r.className="text-blue-500"),setTimeout(()=>{t&&(t.className="i-ri:file-copy-line text-sm"),r&&(r.innerText="Copy",r.className="")},2e3)}catch(t){console.error("Failed to copy:",t)}})})}document.addEventListener("astro:page-load",c);c();</script>
<h4 id="android-chromium">Android (Chromium)</h4>
<ul>
<li>完整支持浮点数渲染</li>
<li>可以实现精确的小数行高和字号</li>
<li>使用 Skia 渲染引擎，支持亚像素渲染</li>
</ul>
<h3 id="2-ui-元素"><strong>2. UI 元素</strong></h3>
<p><strong>共同支持浮点数的属性</strong></p>
<ul>
<li>transform: 支持精确的小数值动画</li>
<li>opacity: 支持 0-1 之间的任意浮点数</li>
<li>position: 支持精确定位</li>
</ul>
<p><strong>平台特定行为</strong></p>
<p>iOS:</p>
<ul>
<li>border: 强制对齐到整数像素</li>
<li>box-shadow: 支持浮点数但可能存在性能问题</li>
</ul>
<p>Android:</p>
<ul>
<li>几乎所有属性都支持浮点数</li>
<li>渲染精度取决于设备的硬件能力</li>
</ul>
<h2 id="三产生差异的原因"><strong>三、产生差异的原因</strong></h2>
<h3 id="1-技术层面"><strong>1. 技术层面</strong></h3>
<ul>
<li>iOS CoreText 追求文字渲染的清晰度和一致性</li>
<li>Android Skia 更注重渲染的灵活性和精确性</li>
<li>硬件加速实现方式的不同导致精度差异</li>
</ul>
<h3 id="2-历史原因"><strong>2. 历史原因</strong></h3>
<ul>
<li>Apple 一直强调用户体验的一致性</li>
<li>Android 的开放性导致更灵活的渲染策略</li>
</ul>
<h2 id="四开发建议"><strong>四、开发建议</strong></h2>
<h3 id="1-通用处理方案"><strong>1. 通用处理方案</strong></h3>
<div class="code-block relative group my-6 rounded-lg overflow-hidden border border-border bg-[var(--shiki-bg)] shadow-sm">  <div class="relative"> <pre class="astro-code github-dark !my-0 !p-4 overflow-x-auto custom-scrollbar text-sm leading-relaxed" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A737D">// 检测平台</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> isIOS</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> /</span><span style="color:#DBEDFF">iPhone</span><span style="color:#F97583">|</span><span style="color:#DBEDFF">iPad</span><span style="color:#F97583">|</span><span style="color:#DBEDFF">iPod</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">test</span><span style="color:#E1E4E8">(navigator.userAgent);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 行高处理</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> getLineHeight</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> isIOS </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> Math.</span><span style="color:#B392F0">round</span><span style="color:#E1E4E8">(value) </span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> value;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 使用示例</span></span>
<span class="line"><span style="color:#E1E4E8">element.style.lineHeight </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> `${</span><span style="color:#B392F0">getLineHeight</span><span style="color:#9ECBFF">(</span><span style="color:#79B8FF">14.3</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}px`</span><span style="color:#E1E4E8">;</span></span></code></pre> <button class="copy-btn absolute top-2 right-2 z-50 flex items-center gap-1.5 px-2 py-1 rounded bg-white/20 dark:bg-white/5 text-xs text-white hover:bg-primary/10 dark:hover:bg-white/15 transition-colors cursor-pointer opacity-0 group-hover:opacity-100" aria-label="Copy code"> <div class="i-ri:file-copy-line text-sm"></div> <span>Copy</span> </button> </div> </div> 
<h3 id="2-特殊场景处理"><strong>2. 特殊场景处理</strong></h3>
<p><strong>动画效果</strong></p>
<div class="code-block relative group my-6 rounded-lg overflow-hidden border border-border bg-[var(--shiki-bg)] shadow-sm">  <div class="relative"> <pre class="astro-code github-dark !my-0 !p-4 overflow-x-auto custom-scrollbar text-sm leading-relaxed" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A737D">// 文字动画处理</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> animateText</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">element</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (isIOS) {</span></span>
<span class="line"><span style="color:#6A737D">    // iOS 使用整数步进</span></span>
<span class="line"><span style="color:#E1E4E8">    element.style.transform </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> `translateY(${</span><span style="color:#E1E4E8">Math</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">round</span><span style="color:#9ECBFF">(</span><span style="color:#E1E4E8">value</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}px)`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    // Android 可以使用浮点数</span></span>
<span class="line"><span style="color:#E1E4E8">    element.style.transform </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> `translateY(${</span><span style="color:#E1E4E8">value</span><span style="color:#9ECBFF">}px)`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span></code></pre> <button class="copy-btn absolute top-2 right-2 z-50 flex items-center gap-1.5 px-2 py-1 rounded bg-white/20 dark:bg-white/5 text-xs text-white hover:bg-primary/10 dark:hover:bg-white/15 transition-colors cursor-pointer opacity-0 group-hover:opacity-100" aria-label="Copy code"> <div class="i-ri:file-copy-line text-sm"></div> <span>Copy</span> </button> </div> </div> 
<p><strong>文字排版</strong></p>
<div class="code-block relative group my-6 rounded-lg overflow-hidden border border-border bg-[var(--shiki-bg)] shadow-sm">  <div class="relative"> <pre class="astro-code github-dark !my-0 !p-4 overflow-x-auto custom-scrollbar text-sm leading-relaxed" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A737D">/* 跨平台一致性处理 */</span></span>
<span class="line"><span style="color:#E1E4E8">.text {</span></span>
<span class="line"><span style="color:#6A737D">  /* 使用整数值避免差异 */</span></span>
<span class="line"><span style="color:#E1E4E8">  line</span><span style="color:#F97583">-</span><span style="color:#B392F0">height</span><span style="color:#E1E4E8">: 20px;</span></span>
<span class="line"><span style="color:#E1E4E8">  font</span><span style="color:#F97583">-</span><span style="color:#B392F0">size</span><span style="color:#E1E4E8">: 16px;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#6A737D">  /* 需要精确控制时使用 transform */</span></span>
<span class="line"><span style="color:#B392F0">  transform</span><span style="color:#E1E4E8">: </span><span style="color:#B392F0">translateY</span><span style="color:#E1E4E8">(0.5px);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre> <button class="copy-btn absolute top-2 right-2 z-50 flex items-center gap-1.5 px-2 py-1 rounded bg-white/20 dark:bg-white/5 text-xs text-white hover:bg-primary/10 dark:hover:bg-white/15 transition-colors cursor-pointer opacity-0 group-hover:opacity-100" aria-label="Copy code"> <div class="i-ri:file-copy-line text-sm"></div> <span>Copy</span> </button> </div> </div> 
<h2 id="结论">结论</h2>
<p>理解和妥善处理浮点数渲染差异，是开发高质量 H5 应用的重要环节。在实际开发中，应该根据具体场景选择合适的处理策略，在保证体验一致性的同时，也要充分利用各平台的特性。</p>
<h2 id="参考资料">参考资料</h2>
<ul>
<li><a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/Introduction/Introduction.html">Developing Web Content for Safari</a></li>
<li><a href="https://www.chromium.org/developers/design-documents/graphics-and-skia/">Graphics and Skia</a></li>
<li><a href="https://www.w3.org/TR/css-values-3/">CSS Values and Units Module Level 3</a></li>
</ul> </div>  <nav class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-12 pt-8 border-t border-border" data-astro-cid-ztig7rse> <a href="/post/1708-vue3-compiler-macro" class="group flex flex-col gap-1 p-4 rounded-lg border-2 border-text shadow-[4px_4px_0_0_var(--color-text)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none transition-all" data-astro-cid-ztig7rse> <span class="text-xs text-text-muted flex items-center gap-1 group-hover:text-primary" data-astro-cid-ztig7rse> <div class="i-ri:arrow-left-double-line" data-astro-cid-ztig7rse></div>
上一篇
</span> <span class="font-medium truncate text-text" data-astro-cid-ztig7rse>Vue3 编译宏使用与原理</span> </a> <a href="/post/2501-javascript-setTimeout-timeout" class="group flex flex-col gap-1 p-4 rounded-lg border-2 border-text shadow-[4px_4px_0_0_var(--color-text)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none transition-all text-right" data-astro-cid-ztig7rse> <span class="text-xs text-text-muted flex items-center gap-1 justify-end group-hover:text-primary" data-astro-cid-ztig7rse>
下一篇
<div class="i-ri:arrow-right-double-line" data-astro-cid-ztig7rse></div> </span> <span class="font-medium truncate text-text" data-astro-cid-ztig7rse>setTimeout 最小延迟机制</span> </a> </nav>  <div class="giscus-container mt-12 pt-8 border-t border-border" data-astro-cid-ztig7rse> <script src="https://giscus.app/client.js" data-repo="AleksChen/AleksChen.github.io" data-repo-id="R_kgDOGjCC6A" data-category="Announcements" data-category-id="DIC_kwDOGjCC6M4CR-S5" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="fro" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async class="astro-ztig7rse astro-ztig7rse astro-ztig7rse astro-ztig7rse astro-ztig7rse"></script> </div> </article> <aside class="hidden lg:block sticky top-24" data-astro-cid-ztig7rse> <div class="p-4 rounded-lg border-2 border-text bg-card shadow-[4px_4px_0_0_var(--color-text)] max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar" data-astro-cid-ztig7rse> <div class="text-sm font-bold text-text-muted mb-4 uppercase tracking-wider" data-astro-cid-ztig7rse>
目录
</div> <nav class="flex flex-col gap-1 text-sm" data-astro-cid-ztig7rse> <a href="#一概述" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="一概述" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 一、概述 </a><a href="#二渲染差异对比" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="二渲染差异对比" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 二、渲染差异对比 </a><a href="#1-文字渲染" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="1-文字渲染" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> 1. 文字渲染 </a><a href="#2-ui-元素" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="2-ui-元素" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> 2. UI 元素 </a><a href="#三产生差异的原因" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="三产生差异的原因" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 三、产生差异的原因 </a><a href="#1-技术层面" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="1-技术层面" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> 1. 技术层面 </a><a href="#2-历史原因" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="2-历史原因" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> 2. 历史原因 </a><a href="#四开发建议" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="四开发建议" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 四、开发建议 </a><a href="#1-通用处理方案" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="1-通用处理方案" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> 1. 通用处理方案 </a><a href="#2-特殊场景处理" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="2-特殊场景处理" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> 2. 特殊场景处理 </a><a href="#结论" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="结论" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 结论 </a><a href="#参考资料" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="参考资料" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 参考资料 </a> </nav> </div> </aside> </div>  </main> <footer class="mt-8 flex flex-col items-center gap-4 py-8"> <div class="flex items-center gap-4"> <a href="https://github.com/AleksChen" target="_blank" class="hover:text-primary transition-transform hover:scale-110 flex items-center gap-1 text-sm font-medium" title="GitHub"> <div class="i-ri:github-fill w-5 h-5"></div> <span class="opacity-80 hover:opacity-100">GitHub</span> </a> <div class="w-px h-4 bg-text opacity-20"></div> <a href="https://juejin.cn/user/254742428393742" target="_blank" class="hover:text-primary transition-transform hover:scale-110 flex items-center gap-1 text-sm font-medium" title="Juejin"> <div class="i-ri:blogger-line w-5 h-5"></div> <span class="opacity-80 hover:opacity-100">Blog</span> </a> <div class="w-px h-4 bg-text opacity-20"></div> <a href="/rss.xml" target="_blank" class="hover:text-primary transition-transform hover:scale-110 flex items-center gap-1 text-sm font-medium" title="RSS"> <div class="i-ri:rss-line w-5 h-5"></div> <span class="opacity-80 hover:opacity-100">RSS</span> </a> </div> <small class="w-full max-w-[720px] min-h-12 flex justify-center items-center opacity-80"> <a href="https://github.com/AleksChen" target="_blank">© 2025 AleksChen</a> </small> </footer> <script type="module">const l=()=>{const e=document.documentElement;e.classList.toggle("dark");const t=e.classList.contains("dark");localStorage.setItem("theme",t?"dark":"light")};document.getElementById("theme-toggle")?.addEventListener("click",l);</script> <script type="module">window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};plausible.init();</script> </body> </html> <script type="module">
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";

  mermaid.initialize({
    startOnLoad: true,
    theme: "default",
    themeVariables: window.matchMedia("(prefers-color-scheme: dark)").matches
      ? { darkMode: true }
      : { darkMode: false },
  });
</script> <script type="module">const i=new IntersectionObserver(e=>{e.forEach(o=>{if(o.isIntersecting){const r=o.target.id;document.querySelectorAll(".toc-link").forEach(t=>{t.classList.toggle("text-white",t.getAttribute("data-id")===r),t.classList.toggle("bg-primary/10",t.getAttribute("data-id")===r),t.classList.toggle("font-medium",t.getAttribute("data-id")===r)})}})},{rootMargin:"-100px 0px -60% 0px"});document.querySelectorAll("h1[id], h2[id], h3[id]").forEach(e=>{i.observe(e)});</script> 