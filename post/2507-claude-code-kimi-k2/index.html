<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Noto+Sans+SC:wght@400;500;600;700&display=swap" rel="stylesheet"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Blog"><meta name="msapplication-TileColor" content="#000000"><meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><link rel="icon" href="/favicon.ico"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"><title>
      Claude Code 中接入 Kimi K2 大模型 | Aleks
    </title><!-- 基础 SEO --><meta name="description" content="Claude Code 是 Anthropic 推出的 AI 编程助手，具备强大的代码生成与理解能力。然而，受限于国内网络环境，Claude Sonnet 4、Claude Opus 4 等模型的使用门槛较高。为此，本文介绍如何将 Claude Code 切换为月之暗面最新发布的 Kimi K2 大模型，实现无缝对接与高效开发。"><meta name="author" content="Aleks"><meta name="keywords" content="AI"><link rel="canonical" href="https://blog.002085.xyz//post/2507-claude-code-kimi-k2"><!-- Open Graph --><meta property="og:type" content="article"><meta property="og:title" content="Claude Code 中接入 Kimi K2 大模型"><meta property="og:description" content="Claude Code 是 Anthropic 推出的 AI 编程助手，具备强大的代码生成与理解能力。然而，受限于国内网络环境，Claude Sonnet 4、Claude Opus 4 等模型的使用门槛较高。为此，本文介绍如何将 Claude Code 切换为月之暗面最新发布的 Kimi K2 大模型，实现无缝对接与高效开发。"><meta property="og:image" content="https://blog.002085.xyz/post-assets/md774iew-image-20250717161529431.png"><meta property="og:url" content="https://blog.002085.xyz//post/2507-claude-code-kimi-k2"><meta property="og:site_name" content="Aleks"><meta property="article:published_time" content="2025-07-17T09:39:21.783Z"><meta property="article:modified_time" content="2025-07-17T09:44:32.159Z"><meta property="article:tag" content="AI"><meta property="article:author" content="Aleks"><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Claude Code 中接入 Kimi K2 大模型"><meta name="twitter:description" content="Claude Code 是 Anthropic 推出的 AI 编程助手，具备强大的代码生成与理解能力。然而，受限于国内网络环境，Claude Sonnet 4、Claude Opus 4 等模型的使用门槛较高。为此，本文介绍如何将 Claude Code 切换为月之暗面最新发布的 Kimi K2 大模型，实现无缝对接与高效开发。"><meta name="twitter:image" content="https://blog.002085.xyz/post-assets/md774iew-image-20250717161529431.png"><!-- JSON-LD 结构化数据 --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Claude Code 中接入 Kimi K2 大模型","description":"Claude Code 是 Anthropic 推出的 AI 编程助手，具备强大的代码生成与理解能力。然而，受限于国内网络环境，Claude Sonnet 4、Claude Opus 4 等模型的使用门槛较高。为此，本文介绍如何将 Claude Code 切换为月之暗面最新发布的 Kimi K2 大模型，实现无缝对接与高效开发。","image":"https://blog.002085.xyz/post-assets/md774iew-image-20250717161529431.png","datePublished":"2025-07-17T09:39:21.783Z","dateModified":"2025-07-17T09:44:32.159Z","author":{"@type":"Person","name":"Aleks"},"publisher":{"@type":"Organization","name":"Aleks","logo":{"@type":"ImageObject","url":"https://blog.002085.xyz/favicon.ico"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.002085.xyz//post/2507-claude-code-kimi-k2"},"keywords":"AI"}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1EC4WNBZJ"></script><script type="module">const l=()=>{const e=document.documentElement;e.classList.toggle("dark");const t=e.classList.contains("dark");localStorage.setItem("theme",t?"dark":"light")};document.getElementById("theme-toggle")?.addEventListener("click",l);</script><!-- Privacy-friendly analytics by Plausible --><script async src="https://plausible.io/js/pa-bqrNOvlYoay2S1opDAt9D.js"></script><script type="module">window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};plausible.init();</script><script>
      // 暗色模式初始化
      const theme = (() => {
        if (
          typeof localStorage !== "undefined" &&
          localStorage.getItem("theme")
        ) {
          return localStorage.getItem("theme");
        }
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          return "dark";
        }
        return "light";
      })();

      if (theme === "dark") {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }

      window.localStorage.setItem("theme", theme);
    </script><link rel="stylesheet" href="/_astro/about.x0yQQqd4.css">
<link rel="stylesheet" href="/_astro/index.C4AqPoXi.css">
<style>@media(min-width:1024px){.layout-grid-cols[data-astro-cid-ztig7rse]{grid-template-columns:minmax(0,1fr) 240px}}
</style></head> <body class="bg-bg text-text min-h-screen flex flex-col font-sans transition-colors duration-300">  <header class="sticky top-0 z-50 w-full bg-bg border-b-2 border-text"> <div class="max-w-[800px] mx-auto px-4 h-16 flex items-center justify-between"> <a href="/" class="text-xl font-bold flex items-center gap-2 hover:text-primary transition-colors" aria-label="homepage"> <div class="i-ri:home-4-line w-6 h-6"></div> </a> <div class="flex items-center gap-4"> <nav class="hidden md:flex items-center gap-6"> <a href="/archives" class="text-sm font-medium hover:text-primary transition-colors">
归档
</a> <a href="/tags" class="text-sm font-medium hover:text-primary transition-colors">
标签
</a> <a href="/about" class="text-sm font-medium hover:text-primary transition-colors">
关于
</a> </nav>  <div class="flex items-center gap-3 pl-4"> <a href="https://github.com/AleksChen" target="_blank" class="hover:text-primary transition-transform hover:scale-110" title="GitHub"> <div class="i-ri:github-fill w-6 h-6"></div> </a> <!-- <a
              href={config.head.links.juejin}
              target="_blank"
              class="hover:text-primary transition-transform hover:scale-110"
              title="Juejin"
            >
              <div class="i-ri:blogger-line w-6 h-6"></div>
            </a> --> <button id="theme-toggle" class="hover:text-primary transition-transform hover:scale-110 focus:outline-none" title="Toggle Theme"> <div class="i-ri:sun-line w-6 h-6 dark:hidden"></div> <div class="i-ri:moon-line w-6 h-6 hidden dark:block"></div> </button> </div> </div> </div> </header> <main class="flex-1 w-full mx-auto px-4 py-8 animate-fade-in max-w-[1200px]">  <div class="grid grid-cols-1 layout-grid-cols gap-8 items-start" data-astro-cid-ztig7rse> <article class="w-full min-w-0" data-astro-cid-ztig7rse>  <header class="mb-8 pb-8 border-b border-border" data-astro-cid-ztig7rse> <div class="flex flex-wrap gap-2 mb-4" data-astro-cid-ztig7rse> <a href="/tag/AI" class="px-2 py-1 text-xs font-bold rounded-sm border border-text text-text bg-transparent shadow-[2px_2px_0_0_var(--color-text)] hover:translate-y-[1px] hover:translate-x-[1px] hover:shadow-none transition-all" data-astro-cid-ztig7rse>
#AI </a> </div> <h1 class="text-3xl md:text-4xl font-bold mb-4 leading-tight text-text" data-astro-cid-ztig7rse> Claude Code 中接入 Kimi K2 大模型 </h1> <div class="flex items-center gap-4 text-sm text-text-muted" data-astro-cid-ztig7rse> <time datetime="Thu Jul 17 2025 09:39:21 GMT+0000 (Coordinated Universal Time)" class="flex items-center gap-1" data-astro-cid-ztig7rse> <div class="i-ri:calendar-line" data-astro-cid-ztig7rse></div> 7/17/2025 </time> <span class="flex items-center gap-1" title="最后更新时间" data-astro-cid-ztig7rse> <div class="i-ri:time-line" data-astro-cid-ztig7rse></div> 7/17/2025 </span> </div> </header>  <div class="prose prose-lg dark:prose-invert max-w-none prose-img:rounded-sm prose-img:border-2 prose-img:border-text prose-img:shadow-[4px_4px_0_0_var(--color-text)] prose-a:text-primary prose-a:no-underline hover:prose-a:underline prose-headings:scroll-mt-24" data-astro-cid-ztig7rse><h2 id="前言">前言</h2><p>Claude Code 是 Anthropic 推出的 AI 编程助手，具备强大的代码生成与理解能力。然而，受限于国内网络环境，Claude Sonnet 4、Claude Opus 4 等模型的使用门槛较高。为此，本文介绍如何将 Claude Code 切换为月之暗面最新发布的 Kimi K2 大模型，实现无缝对接与高效开发。</p>
<p><img src="/post-assets/md774iew-image-20250717161529431.png" alt="image-20250717161529431.png"></p>
<hr>
<h2 id="环境准备">环境准备</h2><ol>
<li><strong>安装最新版 Node.js</strong></li>
</ol>
<p>请前往 <a href="https://nodejs.org/">Node.js 官网</a>下载并安装。</p>
<ol start="2">
<li><strong>安装 Claude Code</strong></li>
</ol>
<p>终端执行：<code>npm install -g @anthropic-ai/claude-code</code></p>
<ol start="3">
<li><strong>注册 Kimi API 平台账号并获取 API Key</strong></li>
</ol>
<ul>
<li>打开 <a href="https://kimi.moonshot.cn/">Kimi API 平台</a>，注册账号。</li>
<li>登录后，新建 API Key。</li>
</ul>
<p><img src="/post-assets/md774iey-image-20250717155709394.png" alt="image-20250717155709394.png"></p>
<ol start="4">
<li><strong>充值升级账号（强烈建议）</strong></li>
</ol>
<p>免费版 Kimi API 限制较多，建议充值 50 元升级至 Tier1，解锁更高额度和更稳定的调用权限。</p>
<p><img src="/post-assets/md774iez-image-20250717155753583.png" alt="image-20250717155753583.png"></p>
<h2 id="api-key-配置">API Key 配置</h2><p>修改 Claude Code 的默认配置，使用自定义的模型能力。</p>
<h3 id=""></h3><p>Windows</p>
<p>在命令提示符中执行：</p>
<pre><code class="language-bash">setx ANTHROPIC_AUTH_TOKEN &quot;你的 API 密钥&quot;
setx ANTHROPIC_BASE_URL &quot;https://api.moonshot.cn/anthropic&quot;
</code></pre>
<h3 id="macos--linux">macOS / Linux</h3><p>根据所用终端类型，编辑对应配置文件：</p>
<ul>
<li>Bash 用户：<code>~/.bashrc</code></li>
<li>Zsh 用户：<code>~/.zshrc</code></li>
</ul>
<p>添加如下内容：</p>
<pre><code class="language-bash">export ANTHROPIC_AUTH_TOKEN=你的API密钥
export ANTHROPIC_BASE_URL=https://api.moonshot.cn/anthropic
</code></pre>
<p>保存后，执行 <code>source ~/.zshrc</code> 或重启终端使配置生效。</p>
<hr>
<h2 id="启动与模型切换验证">启动与模型切换验证</h2><ol>
<li><p>进入项目目录，运行：<code>claude</code></p>
</li>
<li><p>启动后，界面下方 Overrides 区域应显示 API Key 和 API Base 信息。</p>
</li>
</ol>
<p><img src="/post-assets/md774iez-image-20250717155925831.png" alt="image-20250717155925831.png"></p>
<ol start="3">
<li>随便输入点啥（友情提示：每次输入都要花钱），只要 tokens 在跳动，恭喜你，模型已上线。</li>
</ol>
<p><img src="/post-assets/md774iez-image-20250717160008829.png" alt="image-20250717160008829.png"></p>
<p><img src="/post-assets/md774iez-image-20250717161127189.png" alt="image-20250717161127189.png"></p>
<blockquote>
<p><em>界面写着 claude，其实背后已经是 kimi-k2-0711-preview 在默默搬砖。</em></p>
</blockquote>
<hr>
<h2 id="常见问题与排查">常见问题与排查</h2><p><strong>1.API Key 配置无效</strong>：</p>
<ul>
<li>检查密钥是否有误，或是否已生效（重启终端/重新加载配置文件）。</li>
<li>免费额度用尽或账号未充值也会导致调用失败。</li>
</ul>
<p><strong>2.无法切换模型：</strong></p>
<ul>
<li>确认 ANTHROPIC_BASE_URL 是否正确填写为 <code>https://api.moonshot.cn/anthropic</code>。</li>
</ul>
<p><strong>3.调用费用过高：</strong></p>
<ul>
<li>每次输入均计费，建议合理规划调用频率。</li>
</ul>
<hr>
<h2 id="kimi-k2-大模型的真香时刻">Kimi K2 大模型的&quot;真香&quot;时刻</h2><ol>
<li><strong>代码能力爆表</strong>：</li>
</ol>
<ul>
<li>各种榜单吊打 GPT-4.1、DeepSeek-V3，自动化、企业开发都不在话下。</li>
</ul>
<ol start="2">
<li><strong>超大上下文，记忆力惊人</strong>：</li>
</ol>
<ul>
<li>128k tokens，几十万字随便塞，长文档、老项目都能 hold 住。</li>
</ul>
<ol start="3">
<li><strong>价格感人，合规省心</strong>：</li>
</ol>
<ul>
<li>输入 1 美元/百万 tokens，输出 3 美元/百万 tokens，省下的钱可以多喝几杯咖啡。</li>
</ul>
<ol start="4">
<li><strong>生态丰富，接口友好</strong>：</li>
</ol>
<ul>
<li>兼容 Anthropic 协议，CLI、GUI、VSCode 插件全都能用。</li>
</ul>
<h3 id="注意事项">注意事项</h3><ul>
<li>API Key 属于敏感信息，请妥善保管，避免泄露。</li>
<li>免费额度有限，建议及时充值以保证服务稳定。</li>
<li>若需切换回 Claude 原生模型，只需恢复默认 ANTHROPIC_BASE_URL。</li>
<li>费用按 tokens 计费，注意控制调用频率。</li>
</ul>
<hr>
<h2 id="总结">总结</h2><p>通过上述配置，即可在 Claude Code 中无缝接入 Kimi K2 大模型，享受高效、低成本的智能编程体验。Kimi K2 在代码生成、上下文处理、工程兼容性等方面均表现优异，是国内开发者的理想选择。</p>
</div>  <nav class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-12 pt-8 border-t border-border" data-astro-cid-ztig7rse> <a href="/post/2504-sse" class="group flex flex-col gap-1 p-4 rounded-lg border-2 border-text shadow-[4px_4px_0_0_var(--color-text)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none transition-all" data-astro-cid-ztig7rse> <span class="text-xs text-text-muted flex items-center gap-1 group-hover:text-primary" data-astro-cid-ztig7rse> <div class="i-ri:arrow-left-double-line" data-astro-cid-ztig7rse></div>
上一篇
</span> <span class="font-medium truncate text-text" data-astro-cid-ztig7rse>SSE 服务端推送</span> </a> <div data-astro-cid-ztig7rse></div> </nav>  <div class="giscus-container mt-12 pt-8 border-t border-border" data-astro-cid-ztig7rse> <script src="https://giscus.app/client.js" data-repo="AleksChen/AleksChen.github.io" data-repo-id="R_kgDOGjCC6A" data-category="Announcements" data-category-id="DIC_kwDOGjCC6M4CR-S5" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="fro" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async class="astro-ztig7rse"></script> </div> </article>  <aside class="hidden lg:block sticky top-24" data-astro-cid-ztig7rse> <div class="p-4 rounded-lg border-2 border-text bg-card shadow-[4px_4px_0_0_var(--color-text)] max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar" data-astro-cid-ztig7rse> <div class="text-sm font-bold text-text-muted mb-4 uppercase tracking-wider" data-astro-cid-ztig7rse>
目录
</div> <nav class="flex flex-col gap-1 text-sm" data-astro-cid-ztig7rse> <a href="#前言" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="前言" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 前言 </a><a href="#环境准备" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="环境准备" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 环境准备 </a><a href="#api-key-配置" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="api-key-配置" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> API Key 配置 </a><a href="#macos--linux" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="macos--linux" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> macOS / Linux </a><a href="#启动与模型切换验证" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="启动与模型切换验证" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 启动与模型切换验证 </a><a href="#常见问题与排查" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="常见问题与排查" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 常见问题与排查 </a><a href="#kimi-k2-大模型的真香时刻" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="kimi-k2-大模型的真香时刻" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> Kimi K2 大模型的&amp;quot;真香&amp;quot;时刻 </a><a href="#注意事项" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="注意事项" style="padding-left: 1.5rem" data-astro-cid-ztig7rse> 注意事项 </a><a href="#总结" class="toc-link block py-1 px-2 text-text-muted hover:text-white rounded transition-colors truncate" data-id="总结" style="padding-left: 0.75rem" data-astro-cid-ztig7rse> 总结 </a> </nav> </div> </aside> </div>  </main> <footer class="mt-8 flex justify-center"> <small class="w-full max-w-[720px] min-h-12 flex justify-center items-center opacity-80"> <a href="https://github.com/AleksChen" target="_blank">© 2025 AleksChen</a> </small> </footer> <script type="module">window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a("js",new Date);a("config","G-G1EC4WNBZJ");</script> </body> </html> <script type="module">const i=new IntersectionObserver(e=>{e.forEach(o=>{if(o.isIntersecting){const r=o.target.id;document.querySelectorAll(".toc-link").forEach(t=>{t.classList.toggle("text-white",t.getAttribute("data-id")===r),t.classList.toggle("bg-primary/10",t.getAttribute("data-id")===r),t.classList.toggle("font-medium",t.getAttribute("data-id")===r)})}})},{rootMargin:"-100px 0px -60% 0px"});document.querySelectorAll("h1[id], h2[id], h3[id]").forEach(e=>{i.observe(e)});</script> 